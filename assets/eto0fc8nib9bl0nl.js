const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/e70piu0x8jecj9oy.js","assets/izh0i1dfnf8ev7x1.js","assets/fc2hzad6rtrm7s5f.js","assets/hggowi1ggrzb09yc.js","assets/root-ko7rpr3h.css","assets/conversation-small-lgvqkxxm.css","assets/ek903rju0zels0pm.js","assets/lb1py1igp6jzrtce.js","assets/8nxoaz0vb9p890un.js","assets/mesuhiy66f679pn3.js","assets/e1s5r4gk07bkoir1.js","assets/l2i0py62vkyv61za.js","assets/eobmiu9ep1nh2j45.js","assets/dxpde14qu5zfq5m7.js","assets/dzs9jsp7hkzpbuhr.js","assets/iemgi2z64e5uqrv4.js","assets/l3v68ds865zwh57s.js","assets/pcacsxfe3uxv1gro.js","assets/bqaw7aag2c6iw58l.js","assets/BusinessesMap-g8qqrkxo.css"])))=>i.map(i=>d[i]);
import{g as _e,r as p,j as a,aF as Qt,u as es,R as ts,c as M,M as N,ax as Fe,av as Le}from"./izh0i1dfnf8ev7x1.js";import{i as ss,d as j,cl as ns,a as _,u as gt,R as as,cu as V,cc as re,cF as os,ci as rs,bj as G,cs as is,h as ke,V as cs,as as ls,hU as ds,dt as xt,ce as le,D as yt,br as bt,bY as vt,dw as us,bW as hs,bv as ms,bw as fs,a2 as wt,eG as Ce,K as ps,ic as gs,ie as xs,gR as ys}from"./hggowi1ggrzb09yc.js";import{sI as bs,p8 as vs,pc as ws,sJ as $s,dy as js,dz as Ns,sK as _s,cs as de,cr as ks,sL as $t,sM as Cs,sN as Ss,sO as Ps,bN as Se,cu as F,sP as Ms,sQ as Ds,hm as ie,sR as Ts,bY as As,b_ as Es,sS as Is,sT as Fs,eo as Ls,cD as jt,cE as Nt,bO as _t,ch as Rs,ci as Re,sU as Hs,sV as He,gL as Os,gK as zs,eK as T,sW as Us,fL as Ws,kF as Ys,kG as Bs,kM as Zs,hj as qs}from"./fc2hzad6rtrm7s5f.js";import{s as z,c as Oe,d as kt,R as ee,u as Ct,e as Vs,g as Gs,b as Xs,j as Ks,C as Js,l as Qs,m as en,S as ze,D as tn,n as sn,I as nn,o as an,M as on,r as rn,q as cn}from"./ek903rju0zels0pm.js";import{a as ln}from"./mesuhiy66f679pn3.js";import{u as dn,b as un,i as hn}from"./pcacsxfe3uxv1gro.js";import{a as mn}from"./l2i0py62vkyv61za.js";import{g as fn,d as pn,b as St,I as gn}from"./eobmiu9ep1nh2j45.js";import{w as Pe,s as Pt,f as xn,D as yn,h as bn,M as Me,u as vn,r as wn,E as $n}from"./e1s5r4gk07bkoir1.js";import{b as Z}from"./iemgi2z64e5uqrv4.js";import{v as Ue,C as jn,A as Nn,a as _n,L as kn,B as Cn,p as Sn,b as Pn,e as Mn,P as Dn,f as Tn,i as An,g as En}from"./gueirrzkglxzsmw1.js";import{N as We}from"./c9avu4yfkjav9bdb.js";import{S as In}from"./nlrayamhrsyhya9q.js";import{c as Mt}from"./h1u1n503o4rqjlms.js";const Fn=Mt("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),Ln=Mt("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]);var Rn=bs,Hn=ss;function On(e){return e&&e.length?Rn(e,Hn):0}var zn=On;const Un=_e(zn),te=({durationMs:e,delayMs:t})=>({"--duration":`${e}ms`,"--delay":`${t}ms`}),be=e=>!!(p.isValidElement(e)&&vs(["strong","em"],e.type)&&ws(e.props)&&typeof e.props.children=="string"),Dt=(e,t)=>typeof e=="string"?t(e).length:be(e)?t(e.props.children).length:1,Tt=(e,t)=>Array.isArray(e)?Un(e.map(s=>Tt(s,t))):Dt(e,t),At=({tag:e,children:t,start:s,end:n,isMarker:o,isLastNode:r,isOnlyNode:i})=>{const c=r==="",d=i==="",{enqueueElement:m,dequeueElement:l,updateElementBounds:u,reportComplete:h,reportProgress:y,reportReady:f,isDisabled:w,animationTiming:v,lastPositionCompletedAnimating:b,activeStartPos:$,segmentText:k}=p.useContext($s),g=p.useRef(null),x=()=>{g.current!=null&&window.clearTimeout(g.current),g.current=window.setTimeout(()=>{js.count(Ns.DEFAULT,"text_entry_animation.timeout"),f(e,s??0),g.current=null},2e3)},C=!w;p.useEffect(()=>{if(!(s==null||!C))return m(e,s),()=>l(e,s)},[e,s,C]);const S=(!c||o)&&s!=null&&n!=null,A=p.useRef(!1),ce=o?1:Tt(t,k),O=ce-1;p.useEffect(()=>{s!=null&&n!=null&&u(e,s,n,ce),S&&A.current!==!1&&A.current>=O?f(e,s):S&&x()},[S,O,ce,s,n]);const Kt=Y=>{s!=null&&O>0&&y(e,s,Y/O),A.current=Y,S&&Y>=O?f(e,s):S&&x()},Jt=Y=>{o||(S&&Y===O||d&&n!=null)&&h(n)},Ee=$!=null&&s!=null&&n!=null&&$>s&&b!=null&&b>=n,Ie=$!=null&&s!=null&&s<=$;return{segmentText:k,onReady:Kt,onComplete:Jt,isDisabled:w||Ee,shouldHide:!w&&!Ie&&!Ee,shouldAnimate:Ie,animationTiming:v}},Wn="_fadeIn_4f9by_7",Yn="_fade_4f9by_7",Bn="_marker_4f9by_21",Zn="_hidden_4f9by_21",qn="_animate_4f9by_25",U={fadeIn:Wn,fade:Yn,marker:Bn,hidden:Zn,animate:qn},Ye=({children:e,"data-start":t=null,"data-end":s=null,"data-is-last-node":n,"data-is-only-node":o,tag:r})=>{const{animationTiming:i,shouldAnimate:c,shouldHide:d,isDisabled:m,onComplete:l,onReady:u}=At({isMarker:!0,tag:r,children:e,start:t,end:s,isLastNode:n,isOnlyNode:o});return m||d?a.jsx(r,{"data-start":t,"data-end":s,className:j(d&&"hidden"),children:e}):a.jsx(r,{"data-start":t,"data-end":s,className:j(U.marker,c?U.animate:U.hidden),onAnimationStart:()=>u(0),onAnimationEnd:()=>l(0),style:te(i),children:e})},X=({animationTiming:e,children:t,delayMs:s,index:n,segmentText:o,onReady:r,onComplete:i})=>{const c=o(t);return a.jsx(a.Fragment,{children:c.map((d,m)=>{const l=s+m*e.delayMs;return a.jsx("span",{className:U.fadeIn,style:te({delayMs:l,durationMs:e.durationMs}),onAnimationStart:()=>r(n+m),onAnimationEnd:()=>i(n+m),children:d},m)})})},L=({tag:e,children:t,"data-start":s=null,"data-end":n=null,"data-is-last-node":o,"data-is-only-node":r})=>{const{animationTiming:i,shouldHide:c,isDisabled:d,segmentText:m,onComplete:l,onReady:u}=At({isMarker:!1,tag:e,children:t,start:s,end:n,isLastNode:o,isOnlyNode:r});if(d||c)return a.jsx(e,{"data-start":s,"data-end":n,className:j(c&&"!hidden"),children:t});let h=0,y=0;return a.jsx(e,{"data-start":s,"data-end":n,children:typeof t=="string"?a.jsx(X,{index:0,segmentText:m,delayMs:h,animationTiming:i,onReady:u,onComplete:l,children:t},0):be(t)?p.cloneElement(t,t.props,a.jsx(X,{index:0,delayMs:h,animationTiming:i,segmentText:m,onReady:u,onComplete:l,children:t.props.children},0)):Array.isArray(t)?t.map(f=>{const w=h,v=y,b=Dt(f,m);return y+=b,h+=b*i.delayMs,typeof f=="string"?a.jsx(X,{index:v,delayMs:w,animationTiming:i,segmentText:m,onReady:u,onComplete:l,children:f},v):be(f)?p.cloneElement(f,f.props,a.jsx(X,{index:v,delayMs:w,animationTiming:i,segmentText:m,onReady:u,onComplete:l,children:f.props.children},v)):a.jsx("span",{className:U.fadeIn,style:te({delayMs:h,durationMs:i.durationMs}),onAnimationStart:()=>u(v),onAnimationEnd:()=>l(v),children:f},v)}):a.jsx("span",{className:U.fadeIn,style:te({delayMs:h,durationMs:i.durationMs}),onAnimationStart:()=>u(0),onAnimationEnd:()=>l(0),children:t},0)})},Vn={p:e=>a.jsx(L,{tag:"p",...e}),h1:e=>a.jsx(L,{tag:"h1",...e}),h2:e=>a.jsx(L,{tag:"h2",...e}),h3:e=>a.jsx(L,{tag:"h3",...e}),h4:e=>a.jsx(L,{tag:"h4",...e}),h5:e=>a.jsx(L,{tag:"h5",...e}),h6:e=>a.jsx(L,{tag:"h6",...e}),li:e=>a.jsx(Ye,{tag:"li",isListItem:!0,...e}),hr:e=>a.jsx(Ye,{tag:"hr",...e})};function Gn(e){const t=e.split(`
`),s=Xn(t.pop()).trimEnd();return s&&t.push(s),t.join(`
`)}function Xn(e){if(!e||/^\s*-\s*([*_]+)?\s*$/.test(e))return"";let t=[],s="",n=0;for(;n<e.length;){if(e[n]==="*"&&e[n+1]==="*"){s+="**",t.length&&t[t.length-1]==="**"?t.pop():t.push("**"),n+=2;continue}if(e[n]==="*"||e[n]==="_"){s+=e[n];const r=e[n];t.length&&t[t.length-1]===r?t.pop():t.push(r),n++;continue}s+=e[n],n++}if(t.length===0)return e;let o=s.trimEnd();for(;t.length;){const r=t.pop();if(r==null)break;o.endsWith(r)?o=o.slice(0,-r.length).trimEnd():o+=r}return o}const Kn=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Be={}.hasOwnProperty;function Jn(e,t){const s=t||{};function n(o,...r){let i=n.invalid;const c=n.handlers;if(o&&Be.call(o,e)){const d=String(o[e]);i=Be.call(c,d)?c[d]:n.unknown}if(i)return i.call(this,o,...r)}return n.handlers=s.handlers||{},n.invalid=s.invalid,n.unknown=s.unknown,n}const Qn=/^>|^->|<!--|-->|--!>|<!-$/g,ea=[">"],ta=["<",">"];function sa(e,t,s,n){return n.settings.bogusComments?"<?"+z(e.value,Object.assign({},n.settings.characterReferences,{subset:ea}))+">":"<!--"+e.value.replace(Qn,o)+"-->";function o(r){return z(r,Object.assign({},n.settings.characterReferences,{subset:ta}))}}function na(e,t,s,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const P=It(1),Et=It(-1),aa=[];function It(e){return t;function t(s,n,o){const r=s?s.children:aa;let i=(n||0)+e,c=r[i];if(!o)for(;c&&Pe(c);)i+=e,c=r[i];return c}}const oa={}.hasOwnProperty;function Ft(e){return t;function t(s,n,o){return oa.call(e,s.tagName)&&e[s.tagName](s,n,o)}}const De=Ft({body:ia,caption:ue,colgroup:ue,dd:ua,dt:da,head:ue,html:ra,li:la,optgroup:ha,option:ma,p:ca,rp:Ze,rt:Ze,tbody:pa,td:qe,tfoot:ga,th:qe,thead:fa,tr:xa});function ue(e,t,s){const n=P(s,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Pe(n.value.charAt(0)))}function ra(e,t,s){const n=P(s,t);return!n||n.type!=="comment"}function ia(e,t,s){const n=P(s,t);return!n||n.type!=="comment"}function ca(e,t,s){const n=P(s,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function la(e,t,s){const n=P(s,t);return!n||n.type==="element"&&n.tagName==="li"}function da(e,t,s){const n=P(s,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function ua(e,t,s){const n=P(s,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Ze(e,t,s){const n=P(s,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function ha(e,t,s){const n=P(s,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function ma(e,t,s){const n=P(s,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function fa(e,t,s){const n=P(s,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function pa(e,t,s){const n=P(s,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function ga(e,t,s){return!P(s,t)}function xa(e,t,s){const n=P(s,t);return!n||n.type==="element"&&n.tagName==="tr"}function qe(e,t,s){const n=P(s,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const ya=Ft({body:wa,colgroup:$a,head:va,html:ba,tbody:ja});function ba(e){const t=P(e,-1);return!t||t.type!=="comment"}function va(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const s=e.children[0];return!s||s.type==="element"}function wa(e){const t=P(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Pe(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function $a(e,t,s){const n=Et(s,t),o=P(e,-1,!0);return s&&n&&n.type==="element"&&n.tagName==="colgroup"&&De(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="col")}function ja(e,t,s){const n=Et(s,t),o=P(e,-1);return s&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&De(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="tr")}const K={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Na(e,t,s,n){const o=n.schema,r=o.space==="svg"?!1:n.settings.omitOptionalTags;let i=o.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const c=[];let d;o.space==="html"&&e.tagName==="svg"&&(n.schema=Pt);const m=_a(n,e.properties),l=n.all(o.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=o,l&&(i=!1),(m||!r||!ya(e,t,s))&&(c.push("<",e.tagName,m?" "+m:""),i&&(o.space==="svg"||n.settings.closeSelfClosing)&&(d=m.charAt(m.length-1),(!n.settings.tightSelfClosing||d==="/"||d&&d!=='"'&&d!=="'")&&c.push(" "),c.push("/")),c.push(">")),c.push(l),!i&&(!r||!De(e,t,s))&&c.push("</"+e.tagName+">"),c.join("")}function _a(e,t){const s=[];let n=-1,o;if(t){for(o in t)if(t[o]!==null&&t[o]!==void 0){const r=ka(e,o,t[o]);r&&s.push(r)}}for(;++n<s.length;){const r=e.settings.tightAttributes?s[n].charAt(s[n].length-1):void 0;n!==s.length-1&&r!=='"'&&r!=="'"&&(s[n]+=" ")}return s.join("")}function ka(e,t,s){const n=xn(e.schema,t),o=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,r=e.settings.allowDangerousCharacters?0:1;let i=e.quote,c;if(n.overloadedBoolean&&(s===n.attribute||s==="")?s=!0:(n.boolean||n.overloadedBoolean&&typeof s!="string")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const d=z(n.attribute,Object.assign({},e.settings.characterReferences,{subset:K.name[o][r]}));return s===!0||(s=Array.isArray(s)?(n.commaSeparated?yn:_s)(s,{padLeft:!e.settings.tightCommaSeparatedLists}):String(s),e.settings.collapseEmptyAttributes&&!s)?d:(e.settings.preferUnquoted&&(c=z(s,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:K.unquoted[o][r]}))),c!==s&&(e.settings.quoteSmart&&Oe(s,i)>Oe(s,e.alternative)&&(i=e.alternative),c=i+z(s,Object.assign({},e.settings.characterReferences,{subset:(i==="'"?K.single:K.double)[o][r],attribute:!0}))+i),d+(c&&"="+c))}const Ca=["<","&"];function Lt(e,t,s,n){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?e.value:z(e.value,Object.assign({},n.settings.characterReferences,{subset:Ca}))}function Sa(e,t,s,n){return n.settings.allowDangerousHtml?e.value:Lt(e,t,s,n)}function Pa(e,t,s,n){return n.all(e)}const Ma=Jn("type",{invalid:Da,unknown:Ta,handlers:{comment:sa,doctype:na,element:Na,raw:Sa,root:Pa,text:Lt}});function Da(e){throw new Error("Expected node, not `"+e+"`")}function Ta(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const Aa={},Ea={},Ia=[];function Fa(e,t){const s=t||Aa,n=s.quote||'"',o=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:La,all:Ra,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||Kn,characterReferences:s.characterReferences||Ea,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?Pt:bn,quote:n,alternative:o}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function La(e,t,s){return Ma(e,t,s,this)}function Ra(e){const t=[],s=e&&e.children||Ia;let n=-1;for(;++n<s.length;)t[n]=this.one(s[n],n,e);return t.join("")}function Ha(e){const t=this,s={...t.data("settings"),...e};t.compiler=n;function n(o){return Fa(o,s)}}function Oa(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const za=4;function Ua({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:s}){const n=ns(),o=e.images,r=o.some(l=>l.is_proxied_image)?[]:o.map(l=>l.thumbnail_url),i=Qt({queries:r.map(l=>fn(l)),combine:l=>{const u=new Set;return l.forEach((h,y)=>{h.isSuccess&&u.add(r[y])}),u}}),c=o.filter(l=>i.has(l.thumbnail_url)),d=e.images.length;if(o.some(l=>l.is_proxied_image)){const l=o.find(h=>h.is_proxied_image),u=j("mb-7 mt-1 min-w-32 max-w-[22%] rounded-xl border-[0.5px] border-token-border-light",l?.float_top?"relative block":"float-image z-10 float-right clear-right ml-7 overflow-hidden");return a.jsx(he,{image:l,imageSource:de.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:u},l?.content_url)}if(d===0)return null;if(d===1){const l=e.images[0];return a.jsx(he,{image:l,imageSource:de.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},l.content_url)}const m=n?c.length:Math.min(c.length,za);return a.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:c.slice(0,m).map((l,u)=>a.jsx("div",{className:j("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",u===0&&"rounded-l-xl",u===m-1&&"rounded-r-xl"),children:a.jsx(he,{image:l,imageSource:de.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"h-full w-full"},l.thumbnail_url)},l.thumbnail_url))})}const Rt=p.memo(Ua,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((s,n)=>s.content_url===t.metadata.images[n].content_url));function he({image:e,imageSource:t,className:s,imgClassName:n,style:o,analyticsMetadata:r,trackContentReferenceEvent:i}){const c=pn(e),{isSuccess:d}=St(c),m=p.useMemo(()=>({image_url:c,title:e?.title}),[c,e?.title]);p.useEffect(()=>{e&&d&&i(_.searchContentReferenceShown,"search_content_reference_shown","image_v2",m)},[i,e,d,m]);const l=ks.useStore(),u=e?.is_proxied_image?e.url:c;return a.jsx("button",{className:j("relative aspect-square overflow-hidden",s),style:o,onClick:()=>{i(_.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",m),l.setCurrentImage(e?{image:e,source:t,analyticsMetadata:r}:void 0)},children:e?e?.is_proxied_image||d?a.jsx(gn,{children:a.jsx("img",{src:u,alt:e?.content_url,className:j("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",n)})}):a.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):a.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}async function Wa({conversationId:e,messageId:t,assetPointerLinks:s}){return await as.safePost("/conversation/get_images_for_message",{requestBody:{conversation_id:e,message_id:t,asset_pointer_links:s}})}function Ya({reference:e,conversationId:t,messageId:s}){return es({queryKey:["inline-images",e,t,s],queryFn:async()=>{if(!e.asset_pointer_links||e.asset_pointer_links.length===0||!t)return{images:[],formats:[]};const n=await Wa({conversationId:t,messageId:s,assetPointerLinks:e.asset_pointer_links});for(let o=0;o<n.images.length;o++){const r=n.images[o],c=`image/${n.formats[o]}`,d=Ba(r,c);n.images[o]=d}return n}})}function Ba(e,t="",s=512){const n=atob(e),o=[];for(let i=0;i<n.length;i+=s){const c=n.slice(i,i+s),d=new Array(c.length);for(let l=0;l<c.length;l++)d[l]=c.charCodeAt(l);const m=new Uint8Array(d);o.push(m)}const r=new Blob(o,{type:t});return URL.createObjectURL(r)}const Za=200;function qa({reference:e,clientThreadId:t,message:s,trackContentReferenceEvent:n}){const o=gt(t),{data:r,isLoading:i,isError:c,error:d}=Ya({reference:e,conversationId:o,messageId:s.id}),m=p.useRef([]);if(p.useEffect(()=>()=>{m.current.forEach(h=>{URL.revokeObjectURL(h)}),m.current=[]},[]),i||c||d||!r||!("images"in r))return null;m.current=[];const l=(h,y)=>{const f=new RegExp(y+"\\s*([^\\n]+)","m"),w=h.match(f);return w&&w[1]?w[1].trim().length:0};let u=-1;return s.content.content_type==="text"&&(u=l(s.content.parts.join(""),e.matched_text)),a.jsx(a.Fragment,{children:r?.images.map((h,y)=>{const f={matched_text:e.matched_text,start_idx:e.start_idx,end_idx:e.end_idx,safe_urls:e.safe_urls,alt:e.alt,prompt_text:e.prompt_text,type:"image_v2",images:[{url:h,content_url:e.clicked_from_url??"",thumbnail_url:h,title:e.clicked_from_title??"",content_size:{width:141,height:143},thumbnail_size:{width:141,height:143},is_proxied_image:!0,float_top:u<Za||u===-1}]};return a.jsx(Rt,{metadata:f,analyticsMetadata:{clientThreadId:t,messageId:s.id},numImageResults:1,trackContentReferenceEvent:n},`image-carousel-inline-${y}`)})})}function Va({attributions:e,attributionsDebug:t,children:s}){const n=$t(),o=V(),r=p.useMemo(()=>e?.map((u,h)=>({...u,originalIndex:h}))?.toSorted((u,h)=>(h.probability??0)-(u.probability??0)),[e]),i=Cs(),c=Ss(),d=Ps(),l=t&&(t.influence_temperature!==i||t.prob_baseline!==c||t.use_sigmoid_likelihood!==d)&&e&&(d?Ms(e,i,c):Ds(e,i));return!r||!n?s:a.jsx(re,{label:a.jsxs("div",{className:"text-left text-xs font-normal text-token-text-primary",children:[a.jsx("div",{className:"font-bold",children:"Attributions (Debug)"}),a.jsxs("div",{className:"grid grid-cols-[200px,1fr,1fr] gap-1",children:[a.jsx("div",{children:"Source"}),a.jsxs("div",{children:["τ=",t?.influence_temperature,", b=",t?.prob_baseline]}),a.jsx("div",{children:l&&`τ=${i}, b=${c}`}),r.map((u,h)=>{const y=u.source_type==="prior",f=y?"text-red-500":u.url?"":"text-gray-500",w=u.probability&&`${(u.probability*100).toFixed(2)}%`,v=l&&l[u.originalIndex].probability,b=v&&`${(v*100).toFixed(2)}%`;return a.jsxs(p.Fragment,{children:[a.jsx("div",{className:j("flex flex-col",f),children:y?a.jsx("div",{className:"line-clamp-1 font-bold",children:"Model Prior"}):u.url?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"line-clamp-1 font-bold",children:Se(u.url)}),"(",u.source_type,")"]}),a.jsx(F,{href:u.url,className:"line-clamp-1 text-xs",children:u.url})]}):a.jsxs("div",{className:"text-xxs line-clamp-1",children:["(",u.source_type,")"]})}),a.jsx("div",{className:f,children:w}),a.jsx("div",{className:f,children:b})]},h)})]})]}),theme:o?"default":"white",delayDuration:0,className:"inline",side:"left",interactive:!0,children:s})}function Ga({attribution:e}){const t=p.useContext(ie),s=Ts(t?.message.id,e.attributable_index),n=$t();return a.jsx(Ka,{isHighlighted:s,isDebugMode:n,content:e.alt??"",attributableIndex:e.attributable_index,attributions:e.attributions??void 0,attributionsDebug:e.attributions_debug??void 0})}function Xa({content:e,isHighlighted:t,isDebugMode:s,attributableIndex:n,attributions:o,attributionsDebug:r}){const i=s?"hover:shadow-[-1px_0_2px_2px_rgba(255,0,0,0.4)]":void 0,c=a.jsxs(a.Fragment,{children:[s&&a.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:a.jsx(re,{label:"Attribution Index",side:"top",children:n})}),a.jsx(Va,{attributions:o,attributionsDebug:r,children:a.jsx(Me,{rehypePlugins:kt,remarkPlugins:ee,urlTransform:Ct,components:{p:({children:d})=>a.jsx(a.Fragment,{children:d})},children:e})})]});return a.jsx(Ja,{isHighlighted:t,className:i,children:c})}const Ka=ts.memo(Xa);function Ja({isHighlighted:e,className:t,children:s}){return a.jsx("span",{className:j("relative","-mx-px my-[-0.2rem] rounded px-px py-[0.2rem]",e&&"bg-[#F9DF99] dark:bg-[#7A6F28]",t),children:s})}function Ve(e,t){try{return BigInt(e).toLocaleString(t)}catch{const s=Number(e);return e.includes("e")||e.includes("E")?s.toExponential():s.toLocaleString(t,{maximumFractionDigits:6})}}function Qa({data:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t(_.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=os().locale;return e.expression&&e.result!=null?a.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[a.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&a.jsx("span",{children:e.prefix}),a.jsx("span",{children:Ve(e.result,s)}),e.suffix&&a.jsx("span",{children:e.suffix})]}),a.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${Ve(e.result,s)}`})]}):null}function eo(e){return a.jsxs(rs,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[a.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function to({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:s,FormattedText:n}){const o=M();return a.jsx(G.Root,{isOpen:!0,onClose:s,children:a.jsx(G.Overlay,{children:a.jsxs(G.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[a.jsx(G.Header,{title:o.formatMessage(so.title),type:"success",closeButton:a.jsx(is,{onClick:s})}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[a.jsx("div",{children:a.jsx(As,{FormattedText:n,message:e})}),a.jsx("div",{children:a.jsx(Es,{message:t})})]})]})})})}const so=ke({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function no({displayInfo:e,FormattedText:t,trackContentReferenceEvent:s}){const[n,o]=p.useState(!1),r=M();return p.useEffect(()=>{s(_.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]),a.jsxs(a.Fragment,{children:[a.jsx(re,{label:r.formatMessage(ao.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:a.jsx("button",{onClick:()=>o(!0),children:a.jsx(eo,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),n&&a.jsx(to,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>o(!1)})]})}const ao=ke({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),Ge=24;function oo(e){const t=e.split(".");let s=e;return t.length>1&&t.slice(0,-1).some(n=>n.length>0)&&(s=t.slice(0,-1).join(".")),s.length>Ge&&(s=s.slice(0,Ge-1)+"…"),s}function ro({fileRef:e,index:t,trackContentReferenceEvent:s}){const n=Is(),o=p.useContext(ie),r=p.useMemo(()=>({source:e.source,index:t}),[e.source,t]);p.useEffect(()=>{s(_.fileCitationShown,"file_citation_shown","file",r)},[]);const i=p.useCallback(l=>{l?s(_.fileCitationHovered,"file_citation_hovered","file",r):s(_.fileCitationUnhovered,"file_citation_unhovered","file",r)},[r,s]),c=p.useCallback(()=>{s(_.fileCitationClicked,"file_citation_clicked","file",r)},[r,s]),d=p.useCallback(()=>n(e.id,e.name),[n,e.id,e.name]),m=cs(o?.analyticsMetadata.clientThreadId??ds,l=>ls(l?.mode));return Fs(m)?m.gizmo_id&&Ls(m.gizmo_id)?a.jsx("span",{className:j(Vs,"select-none"),title:e.name,children:oo(e.name)}):null:a.jsx(io,{fileItem:e,onClickDownloadFile:d,trackTooltipOpenChange:i,trackCloudLinkClick:c})}function io({fileItem:e,className:t,trackTooltipOpenChange:s,trackCloudLinkClick:n,onClickDownloadFile:o}){const r=jt(e.cloud_doc_url??""),i=r?.type??a.jsx(N,{id:"bqY3sN",defaultMessage:"File"}),c=r?.Icon??Nt,d=a.jsx(c,{alt:i,className:"h-[16px] w-[16px] object-contain"}),m=j("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",t),l=a.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?a.jsx(F,{href:e.cloud_doc_url,className:m,onClick:n,children:d}):a.jsx("button",{onClick:o,className:m,children:d})});return a.jsx(co,{fileItem:e,icon:a.jsx(c,{alt:i,className:"mr-2 h-[16px] w-[16px] object-contain"}),contentType:i,trackTooltipOpenChange:s,children:l})}function co({fileItem:e,children:t,className:s,icon:n,contentType:o,trackTooltipOpenChange:r}){const i=V();return a.jsx(re,{label:a.jsxs(F,{href:e.cloud_doc_url,className:j("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",s),children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:n}),a.jsx("div",{className:"truncate text-token-text-primary",children:o})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:e.text})]}),onOpenChange:r,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:i?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:t})}function lo(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function uo({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:a.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((s,n)=>a.jsx(ho,{item:s,index:n,trackContentReferenceEvent:t},n))})}function ho({item:e,index:t,trackContentReferenceEvent:s}){const n=M(),o={title:e.name,description:e.description,index:t};p.useEffect(()=>{s(_.contextualAnswersContentReferenceShown,"contextual_answers_content_reference_shown","file_navlist",o)},[]);const r=jt(e.cloud_doc_url??""),i=r?.Icon??Nt,c=r?.type??a.jsx(N,{id:"bqY3sN",defaultMessage:"File"});return a.jsxs(F,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.cloud_doc_url??"/",onClick:()=>{s(_.contextualAnswersContentReferenceClicked,"contextual_answers_content_reference_clicked","file_navlist",o)},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"not-prose flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(i,{className:"icon-md object-contain"}),a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-primary",children:c})]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.name}),a.jsx("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-primary",children:e.description}),e.last_modified_time&&a.jsx("div",{className:"text-sm text-token-text-secondary",children:lo(e.last_modified_time,n.locale)})]})]})}var ve={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){if(n===null||n===!0||n===!1)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(ve,ve.exports);var mo=ve.exports;const fo=_e(mo);var we={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}e.exports=t.default})(we,we.exports);var po=we.exports;const Xe=_e(po);function go(e,t){var s=vo(t);return s.formatToParts?yo(s,e):bo(s,e)}var xo={year:0,month:1,day:2,hour:3,minute:4,second:5};function yo(e,t){try{for(var s=e.formatToParts(t),n=[],o=0;o<s.length;o++){var r=xo[s[o].type];r>=0&&(n[r]=parseInt(s[o].value,10))}return n}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function bo(e,t){var s=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(s);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var me={};function vo(e){if(!me[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),s=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";me[e]=s?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return me[e]}function Ht(e,t,s,n,o,r,i){var c=new Date(0);return c.setUTCFullYear(e,t,s),c.setUTCHours(n,o,r,i),c}var Ke=36e5,wo=6e4,fe={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ot(e,t,s){var n,o;if(!e||(n=fe.timezoneZ.exec(e),n))return 0;var r;if(n=fe.timezoneHH.exec(e),n)return r=parseInt(n[1],10),Je(r)?-(r*Ke):NaN;if(n=fe.timezoneHHMM.exec(e),n){r=parseInt(n[2],10);var i=parseInt(n[3],10);return Je(r,i)?(o=Math.abs(r)*Ke+i*wo,n[1]==="+"?-o:o):NaN}if(No(e)){t=new Date(t||Date.now());var c=s?t:$o(t),d=$e(c,e),m=s?d:jo(t,d,e);return-m}return NaN}function $o(e){return Ht(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function $e(e,t){var s=go(e,t),n=Ht(s[0],s[1]-1,s[2],s[3]%24,s[4],s[5],0).getTime(),o=e.getTime(),r=o%1e3;return o-=r>=0?r:1e3+r,n-o}function jo(e,t,s){var n=e.getTime(),o=n-t,r=$e(new Date(o),s);if(t===r)return t;o-=r-t;var i=$e(new Date(o),s);return r===i?r:Math.max(r,i)}function Je(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Qe={};function No(e){if(Qe[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Qe[e]=!0,!0}catch{return!1}}var _o=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,pe=36e5,et=6e4,ko=2,D={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:_o};function je(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var s={},n=s.additionalDigits==null?ko:fo(s.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Co(e),r=So(o.date,n),i=r.year,c=r.restDateString,d=Po(c,i);if(isNaN(d))return new Date(NaN);if(d){var m=d.getTime(),l=0,u;if(o.time&&(l=Mo(o.time),isNaN(l)))return new Date(NaN);if(o.timeZone||s.timeZone){if(u=Ot(o.timeZone||s.timeZone,new Date(m+l)),isNaN(u))return new Date(NaN)}else u=Xe(new Date(m+l)),u=Xe(new Date(m+l+u));return new Date(m+l+u)}else return new Date(NaN)}function Co(e){var t={},s=D.dateTimePattern.exec(e),n;if(s?(t.date=s[1],n=s[3]):(s=D.datePattern.exec(e),s?(t.date=s[1],n=s[2]):(t.date=null,n=e)),n){var o=D.timeZone.exec(n);o?(t.time=n.replace(o[1],""),t.timeZone=o[1].trim()):t.time=n}return t}function So(e,t){var s=D.YYY[t],n=D.YYYYY[t],o;if(o=D.YYYY.exec(e)||n.exec(e),o){var r=o[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(o=D.YY.exec(e)||s.exec(e),o){var i=o[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function Po(e,t){if(t===null)return null;var s,n,o,r;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(s=D.MM.exec(e),s)return n=new Date(0),o=parseInt(s[1],10)-1,st(t,o)?(n.setUTCFullYear(t,o),n):new Date(NaN);if(s=D.DDD.exec(e),s){n=new Date(0);var i=parseInt(s[1],10);return Ao(t,i)?(n.setUTCFullYear(t,0,i),n):new Date(NaN)}if(s=D.MMDD.exec(e),s){n=new Date(0),o=parseInt(s[1],10)-1;var c=parseInt(s[2],10);return st(t,o,c)?(n.setUTCFullYear(t,o,c),n):new Date(NaN)}if(s=D.Www.exec(e),s)return r=parseInt(s[1],10)-1,nt(t,r)?tt(t,r):new Date(NaN);if(s=D.WwwD.exec(e),s){r=parseInt(s[1],10)-1;var d=parseInt(s[2],10)-1;return nt(t,r,d)?tt(t,r,d):new Date(NaN)}return null}function Mo(e){var t,s,n;if(t=D.HH.exec(e),t)return s=parseFloat(t[1].replace(",",".")),ge(s)?s%24*pe:NaN;if(t=D.HHMM.exec(e),t)return s=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),ge(s,n)?s%24*pe+n*et:NaN;if(t=D.HHMMSS.exec(e),t){s=parseInt(t[1],10),n=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return ge(s,n,o)?s%24*pe+n*et+o*1e3:NaN}return null}function tt(e,t,s){t=t||0,s=s||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var o=n.getUTCDay()||7,r=t*7+s+1-o;return n.setUTCDate(n.getUTCDate()+r),n}var Do=[31,28,31,30,31,30,31,31,30,31,30,31],To=[31,29,31,30,31,30,31,31,30,31,30,31];function zt(e){return e%400===0||e%4===0&&e%100!==0}function st(e,t,s){if(t<0||t>11)return!1;if(s!=null){if(s<1)return!1;var n=zt(e);if(n&&s>To[t]||!n&&s>Do[t])return!1}return!0}function Ao(e,t){if(t<1)return!1;var s=zt(e);return!(s&&t>366||!s&&t>365)}function nt(e,t,s){return!(t<0||t>52||s!=null&&(s<0||s>6))}function ge(e,t,s){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||s!=null&&(s<0||s>=60))}function W(e,t,s){var n=je(e,s),o=Ot(t,n,!0),r=new Date(n.getTime()-o),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}var xe={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},Eo={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=xe),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var s=this.getOption(e,"sync","enabled");s&&(e.crosshair.syncEventHandler=(function(n){this.handleSyncEvent(e,n)}).bind(this),e.crosshair.resetZoomEventHandler=(function(n){var o=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===o&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var s=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,o=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,n),e.crosshair.end=e.crosshair.start===n?n+s:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===o?o-s:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,s){return Ue(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][s]:void 0,xe[t][s])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var s=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===s){var n=this.getXScale(e);if(n){var o=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(o=0);var r={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:n.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:o},stop:!0};e._eventHandler(r)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let s=t.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var o=this.getXScale(e);if(o){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var r=s.native.buttons===void 0?s.native.which:s.native.buttons;s.native.type==="mouseup"&&(r=0);var i=this.getOption(e,"sync","enabled"),c=this.getOption(e,"sync","group");if(!s.stop&&i){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=c,t.original=s,t.xValue=o.getValueForPixel(s.x),window.dispatchEvent(t)}var d=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=s.stop&&d,e.crosshair.enabled=s.type!=="mouseout"&&s.x>o.getPixelForValue(o.min)&&s.x<o.getPixelForValue(o.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return s.x>o.getPixelForValue(o.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var m=this.getOption(e,"zoom","enabled");if(r===1&&!e.crosshair.dragStarted&&m&&(e.crosshair.dragStartX=s.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&r===0){e.crosshair.dragStarted=!1;var l=o.getValueForPixel(e.crosshair.dragStartX),u=o.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,l,u),e.update("none")}e.crosshair.x=s.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var o=e.data.datasets[n];o.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var r=this.getOption(e,"sync","enabled");if(!t&&s&&r){var i=this.getOption(e,"sync","group"),c=new CustomEvent("reset-zoom-event");c.chartId=e.id,c.syncGroup=i,window.dispatchEvent(c)}s&&e.update("none")},doZoom:function(e,t,s){if(t>s){var n=t;t=s,s=n}var o=Ue(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,xe.callbacks.beforeZoom);if(!o(t,s))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var r=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),c=this.getOption(e,"zoom","zoomButtonClass"),d=document.createTextNode(i);r.appendChild(d),r.className=c,r.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(r),e.crosshair.button=r}e.options.scales.x.min=t,e.options.scales.x.max=s;var m=e.crosshair.originalData.length===0,l=e.config.options.scales.x.type!=="category";if(l)for(var u=0;u<e.data.datasets.length;u++){var h=[],y=0,f=!1,w=!1;m&&(e.crosshair.originalData[u]=e.data.datasets[u].data);for(var v=e.crosshair.originalData[u],b=0;b<v.length;b++){var $=v[b],k=$.x!==void 0?$.x:NaN;k>=t&&!f&&y>0&&(h.push(v[y-1]),f=!0),k>=t&&k<=s&&h.push($),k>s&&!w&&y<v.length&&(h.push($),w=!0),y+=1}e.data.datasets[u].data=h}if(e.crosshair.start=t,e.crosshair.end=s,m){var g=this.getXScale(e);e.crosshair.min=g.min,e.crosshair.max=g.max}e.crosshair.ignoreNextEvents=2,e.update("none");var x=this.getOption(e,"callbacks","afterZoom");x(t,s)},drawZoombox:function(e){var t=this.getYScale(e),s=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=s,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),s=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),o=this.getOption(e,"line","dashPattern"),r=this.getOption(e,"snap","enabled"),i=e.crosshair.x;r&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(o),e.ctx.moveTo(i,t.getPixelForValue(t.max)),e.ctx.lineWidth=s,e.ctx.strokeStyle=n,e.ctx.lineTo(i,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.yAxisID];n.hidden||!s.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,o.getPixelForValue(s.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=s.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.xAxisID],r=o.getValueForPixel(e.crosshair.x);if(!(n.hidden||!s.interpolate)){var i=s.data,c=i.findIndex(function(u){return u.x>=r}),d=i[c-1],m=i[c];if(e.data.datasets[t].steppedLine&&d)s.interpolatedValue=d.y;else if(d&&m){var l=(m.y-d.y)/(m.x-d.x);s.interpolatedValue=d.y+(r-d.x)*l}else s.interpolatedValue=NaN}}}};const se=(e=1)=>`rgba(48, 166, 51, ${e})`,ne=(e=1)=>`rgba(241, 77, 66, ${e})`,at="text-[#30a633]",ot="text-[#f14d42]",Io=["1d","5d","1m","6m","ytd","1y","5y","max"];function Fo({histories:e,selectedInterval:t,onSelectHistoryInterval:s}){const n=Object.keys(e?.quotes??{});return a.jsx("div",{className:"inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold text-token-text-tertiary dark:bg-[#393939] sm:justify-start sm:gap-1",children:n.map(o=>a.jsx("button",{onClick:()=>{s?.(o)},className:j("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase",t===o?"rounded-lg !border-token-border-light bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:!border-token-border-medium":"hover:text-token-text-secondary"),children:Ut[o].label},o))})}const Ut={"1d":{label:"1D",formatTimestampLabel:rt,formatTimestampTooltip:rt,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:it,formatTimestampTooltip:Ro,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:it,formatTimestampTooltip:Ho,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:ye,formatTimestampTooltip:B,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:ye,formatTimestampTooltip:B,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:ye,formatTimestampTooltip:B,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:ct,formatTimestampTooltip:B,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:ct,formatTimestampTooltip:B,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function Lo(e){return e?Io.filter(s=>s in e.quotes).find(s=>e.quotes[s].length>0):void 0}function H(e,t){return W(new Date(e*1e3),t??"America/New_York")}function rt(e,t,s){const n=H(t,s);return e.formatTime(n,{hour:"numeric",minute:"numeric"})}function Ro(e,t,s){const n=H(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function B(e,t,s){const n=H(t,s);return e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}function ye(e,t,s){const n=H(t,s);return e.formatDate(n,{month:"short",year:"numeric"})}function it(e,t,s){const n=H(t,s);return e.formatDate(n,{month:"short",day:"numeric"})}function Ho(e,t,s){const n=H(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric"})}function ct(e,t,s){const n=H(t,s);return e.formatDate(n,{year:"numeric"})}jn.register(Nn,_n,kn,Cn,Sn,Pn,Mn,Dn,Tn,Eo,An);const Oo=100,lt={color:"#b4b4b4",font:{size:10,weight:"600",family:"Menlo"}};function zo({isUp:e,histories:t,selectedInterval:s,setHighlightedPrice:n,latestTradingPeriod:o,timezone:r}){return a.jsx(a.Fragment,{children:t&&s&&o?a.jsx(Uo,{isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:o,timezone:r,setHighlightedPrice:n}):a.jsx(Z,{className:"h-full",index:1,width:100})})}function Uo({isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:n,timezone:o,setHighlightedPrice:r}){const[i,c]=p.useState(null),[d,m]=p.useState(!1),l=s==="1d",u=p.useMemo(()=>{let g=t.quotes[s].filter(x=>x.close>=0);if(l&&n){const x=n.regular.start_timestamp,C=n.regular.end_timestamp;if(g=g.filter(S=>S.timestamp>=x&&S.timestamp<=C),g.length===0||g[g.length-1].timestamp<C){let A=g.length>0?g[g.length-1].timestamp:x-600;for(;A<C;)A+=600,g.push({timestamp:A,close:null})}}return g},[t,s,l,n]),h=Ut[s],{formatTimestampTooltip:y,maxTicksLimit:f,useUtc:w=!1}=h,v=M(),b=xt(),$=V(),k=p.useMemo(()=>{const{formatTimestampLabel:g,lineTension:x}=h;return{labels:u.map(C=>g(v,C.timestamp,w?"UTC":o)),datasets:[{data:u.map(C=>C.close),borderColor:e?se():ne(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?se():ne(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function(C){const{ctx:S,chartArea:A}=C.chart;if(A)return Yo(S,A,e)},fill:!0,borderWidth:2,lineTension:x??.4}]}},[h,u,e,w,o,v]);return a.jsx("div",{className:"flex h-full flex-col gap-6",children:a.jsxs("div",{className:"relative h-full",onMouseEnter:()=>m(!0),onMouseLeave:()=>{m(!1),r(null)},children:[a.jsx(En,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:d?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:g=>{if(g.ticks.length>f)if(l)g.ticks=g.ticks.filter((x,C)=>u[C].timestamp%(b?3600:7200)===0);else{const x=Math.ceil(g.ticks.length/(f-1));g.ticks=g.ticks.filter((C,S)=>S>0&&(S%x===0||S===g.ticks.length-1))}},grid:{display:!1},ticks:{...lt,align:"end"}},y:{ticks:{...lt,maxTicksLimit:7},border:{display:!1},grid:{color:$?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(g){const x=g[0];if(!x)return"";const C=u[x.dataIndex]?.timestamp;return C?y(v,C,w?"UTC":o):""}},external:({tooltip:g})=>{d&&g.opacity>0&&r(q(g.dataPoints?.[0]?.parsed?.y??0)),c(x=>{const C=g.chart.width,S=g.caretX>C-Oo;return!x||x.x!==g.caretX||x.y!==g.caretY||x.opacity!==g.opacity||x.flip!==S?{...x,x:g.caretX,y:g.caretY,dateLabel:g.title?.[0],value:q(g.dataPoints?.[0]?.parsed?.y??0),opacity:g.opacity,flip:S}:x})}},dropShadow:!1,crosshair:{line:{color:$?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:k}),a.jsx(Wo,{tooltipData:i})]})})}function Wo({tooltipData:e}){return!e||!e.opacity?null:a.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:j("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap rounded-lg bg-black px-2 py-1 font-mono font-semibold text-token-main-surface-primary dark:bg-token-main-surface-secondary dark:text-white"),children:a.jsx("div",{className:"text-xs",children:e.dateLabel})})}function Yo(e,t,s){const n=e.createLinearGradient(0,t.top,0,t.bottom);return n.addColorStop(0,s?se(.4):ne(.4)),n.addColorStop(1,s?se(0):ne(0)),n}function q(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function J({label:e,value:t}){return a.jsxs("div",{className:"flex w-max flex-1 flex-col gap-1 text-sm",children:[a.jsx("span",{className:"whitespace-nowrap font-normal text-token-text-secondary",children:e}),a.jsx("span",{className:"whitespace-nowrap font-semibold text-token-text-primary",children:t})]})}function Bo({data:e}){const t=M();return a.jsxs("div",{className:"flex flex-col gap-1 rounded-xl pt-2",children:[a.jsx("div",{className:"py-2 text-sm font-semibold text-token-text-primary",children:t.formatMessage({id:"6MpNPe",defaultMessage:"Key Metrics"})}),a.jsx("hr",{className:"m-0 border-token-border-xlight"}),a.jsxs("div",{className:"flex w-full flex-row flex-wrap gap-8 py-3",children:[a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(J,{label:t.formatMessage({id:"MDHEj7",defaultMessage:"Open"}),value:t.formatNumber(e.openPrice,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx(J,{label:t.formatMessage({id:"uBKgbo",defaultMessage:"Day Range"}),value:t.formatMessage({id:"8LyBkV",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.intradayLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.intradayHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})})]}),a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(J,{label:t.formatMessage({id:"/h0itm",defaultMessage:"52 Week Range"}),value:t.formatMessage({id:"VkpWnl",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.fiftyTwoWeekLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.fiftyTwoWeekHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})}),a.jsx(J,{label:t.formatMessage({id:"PboNMC",defaultMessage:"Volume"}),value:t.formatNumber(e.intradayVolume,{notation:"compact",maximumFractionDigits:1})})]})]})]})}function Zo({data:e,priceChange:t,highlightedPrice:s,extendedPriceChange:n,url:o}){function r(i,c="intraday",d=null){const{isUp:m,changePercentage:l,changeLabel:u,changeAmount:h}=i,y=Math.abs(l).toFixed(2),f=q(h);return a.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[c==="extended_hours"&&d!=null&&a.jsx("span",{className:"font-semibold",children:a.jsx(N,{id:"HWwWpW",defaultMessage:"{price}",values:{price:d}})}),a.jsx("span",{className:j("font-semibold",m?at:ot),children:a.jsx(N,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:f,sign:m?"+":""}})}),a.jsx("span",{className:j("font-semibold",m?at:ot),children:a.jsx(N,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:y,sign:m?"+":"-"}})}),c==="extended_hours"?a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:u}):a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:u})]})}return a.jsxs("div",{children:[a.jsx("div",{className:"mt-2 text-sm",children:e?a.jsx(N,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):a.jsx("div",{className:"w-32 font-medium",children:a.jsx(Z,{index:9,width:100})})}),a.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?a.jsx(a.Fragment,{children:o!=null&&a.jsxs(a.Fragment,{children:[" · ",a.jsx(F,{href:o,className:"text-token-link hover:underline",children:Se(o,"hostname")})]})}):a.jsx("div",{className:"mt-2 w-36",children:a.jsx(Z,{index:6,width:100})})}),a.jsx("div",{className:"mt-2 flex text-4xl font-semibold",children:e?a.jsx(N,{id:"s+1uly",defaultMessage:"{price}",values:{price:s??q(e.price.price)}}):a.jsx("div",{className:"w-32",children:a.jsx(Z,{index:0,width:100})})}),a.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:t?r(t):a.jsx("div",{className:"mt-2 w-40",children:a.jsx(Z,{index:3,width:100})})}),a.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&n!=null&&r(n,"extended_hours",q(e.price.extended_price))})]})}function qo({contentReference:e,trackContentReferenceEvent:t}){const s=M();p.useEffect(()=>{t(_.searchContentReferenceShown,"search_content_reference_shown","stock")},[t]);const n=Lo(e?.stock?.histories),o=e?.stock,[r,i]=p.useState(n),[c,d]=p.useState(null),m=r==="1d",l=o?.histories?.quotes?.[r??""]?.[0],u=r&&r in Q?r:void 0,h=o&&(l&&!m?{changePercentage:(o.price.price-l.close)/l.close*100,changeAmount:o.price.price-l.close,changeLabel:u?s.formatMessage(Q[u]):"",isUp:o.price.price>l.close}:o.price.change_percent&&o.price.change?{changePercentage:o.price.change_percent*100,changeAmount:o.price.change,changeLabel:Go(o.price.latest_trade_timestamp,o.asset.timezone,s),isUp:o.price.change?o.price.change>0:!1}:null),y=o&&o.price.extended_price!=null&&o.price.extended_change_percent!=null&&o.price.extended_change!=null?{changePercentage:o.price.extended_change_percent*100,changeAmount:o.price.extended_change,changeLabel:s.formatMessage(Vo(o.price.market_status)??Q.extended),isUp:o.price.extended_change>0}:null,{fiftyTwoWeekHigh:f,fiftyTwoWeekLow:w}=p.useMemo(()=>{const $=o?.histories?.quotes["1y"];if(!$)return{fiftyTwoWeekHigh:null,fiftyTwoWeekLow:null};const k=$.map(x=>x.high).filter(x=>x!=null),g=$.map(x=>x.low).filter(x=>x!=null);return{fiftyTwoWeekHigh:k.length>0?Math.max(...k):null,fiftyTwoWeekLow:g.length>0?Math.min(...g):null}},[o?.histories?.quotes]),v=o?.price.open_price&&o.price.intraday_high&&o.price.intraday_low&&o.price.intraday_volume&&f&&w?{openPrice:o.price.open_price,intradayHigh:o.price.intraday_high,intradayLow:o.price.intraday_low,intradayVolume:o.price.intraday_volume,fiftyTwoWeekHigh:f,fiftyTwoWeekLow:w}:null,b=v!=null;return a.jsxs("div",{className:j("flex flex-col gap-8",b?"min-h-[620px]":"h-[480px]"),children:[a.jsxs("div",{className:"flex flex-wrap items-end justify-between",children:[a.jsx(Zo,{data:o??null,highlightedPrice:c,priceChange:h??null,extendedPriceChange:y??null,url:e?.url??null}),a.jsx("div",{className:"mt-4",children:a.jsx(Fo,{selectedInterval:r,onSelectHistoryInterval:i,histories:o?.histories})})]}),a.jsx("div",{className:b?"h-[340px]":"h-full",children:a.jsx(zo,{isUp:h?.isUp??!1,selectedInterval:r,histories:o?.histories,setHighlightedPrice:d,onSelectHistoryInterval:$=>i($),latestTradingPeriod:o?.asset.latest_trading_period,timezone:o?.asset.timezone??null})}),b&&a.jsx("div",{className:"-mt-4 mb-2",children:a.jsx(Bo,{data:v})})]})}function Vo(e){if(e==null)return null;const t=e.toLowerCase();return t==="premarket"||t==="open"?le({id:"By+pvF",defaultMessage:"Pre-Market"}):t==="afterhours"||t==="closed"?le({id:"aLCg3c",defaultMessage:"After Hours"}):le({id:"2p526c",defaultMessage:"Extended Hours"})}function Go(e,t,s){function n(o,r){const c=W(new Date,r),d=s.formatDate(c,{year:"numeric",month:"2-digit",day:"2-digit"}),m=je(o*1e3),l=W(m,r),u=s.formatDate(l,{year:"numeric",month:"2-digit",day:"2-digit"});return d===u}if(!e||!t||n(e,t))return s.formatMessage(Q["1d"]);{const o=je(e*1e3),r=W(o,t);return s.formatDate(r,{month:"long",day:"numeric"})}}const Q=ke({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),Xo={google_maps:{title:"Google Maps"}};function Ko({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t(_.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=Xo[e.provider]?.title??"Maps";return a.jsx("span",{children:a.jsx(N,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:a.jsx(F,{href:e.url,children:s})}})})}function Jo({metadata:e,trackContentReferenceEvent:t}){return p.useEffect(()=>{e.items.length>0&&t(_.searchContentReferenceShown,"search_content_reference_shown","nav_list")},[]),e.items.length===0?null:a.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&a.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((s,n)=>a.jsx(Qo,{item:s,index:n,trackContentReferenceEvent:t},n))]})}function Qo({item:e,index:t,trackContentReferenceEvent:s}){const{isSuccess:n}=St(e.thumbnail_url??void 0),o={url:e.url,title:e.title,section_index:t,link_type:"text",section:"nav_list",section_location:"response"};p.useEffect(()=>{s(_.linkAction,"link_action","nav_list",{...o,action:"show"})},[]);const i=M().locale,c=e.pub_date!=null?new Date(e.pub_date*1e3):null,d=new Intl.RelativeTimeFormat(i,{numeric:"auto"}),m=c?Math.max(Math.floor((Date.now()-c.getTime())/(1e3*60*60*24)),0):null;let l=m!=null?d.format(-m,"day"):null;return i.startsWith("en")&&l&&(l=l.charAt(0).toUpperCase()+l.slice(1)),a.jsxs(F,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{s(_.linkAction,"link_action","nav_list",{...o,action:"click"})},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(_t,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??Se(e.url)]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),l&&a.jsx("div",{className:"text-xs text-token-text-tertiary",children:l})]}),n&&e.thumbnail_url&&a.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:a.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const er=5;function tr({sourcesFootnote:e,onShowSearchResults:t,trackContentReferenceEvent:s}){const n={urls:e.sources.map(o=>o.url).toString(),has_images:e.has_images};return p.useEffect(()=>{s(_.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",n)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute h-[60px]",children:a.jsxs("button",{className:j("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{s(_.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",n),t(Rs.Sources,e.sources.length>0?Re.Citations:Re.SearchResults)},children:[a.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:a.jsx(N,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&a.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,er).reverse().map((o,r)=>a.jsx("div",{className:j("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:a.jsx(_t,{url:o.url,size:32,minSize:16,className:"icon-md"})},r))})]})}),a.jsx("div",{className:"h-[60px]"})]})}function I(e,t){const s=Hs(e),n=t<0?"-":"+",o=Math.abs(t),r=Math.floor(o/3600).toString().padStart(2,"0"),i=Math.floor(o%3600/60).toString().padStart(2,"0"),c=`${n}${r}:${i}`;return W(s,c)}function Ne(e,t){if(He(t))return a.jsx(N,{id:"wxni9H",defaultMessage:"Today"});const s=new Date;return s.setTime(s.getTime()+7*24*60*60*1e3),t<s&&t>new Date||He(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const sr="webp",nr=250,ar=187,or="srgb",rr=4,ir="uchar",cr=72,lr=!1,dr=!1,ur=!0,hr="/assets/missing-logo-h96s4tk9.webp",dt={format:sr,width:nr,height:ar,space:or,channels:rr,depth:ir,density:cr,isProgressive:lr,hasProfile:dr,hasAlpha:ur,src:hr};function Wt({team:e,className:t}){const[s,n]=p.useState(e.logo??dt.src),o=()=>{yt.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),n(dt.src)};return a.jsx("img",{src:s,alt:e.name,className:t,onError:o})}const ut=6;function mr({scheduleRef:e,trackContentReferenceEvent:t}){const[s,n]=p.useState(!0),o=M(),r=e.games.length>0;if(p.useEffect(()=>{r&&t(_.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[r]),!r)return null;const c=(o.formatDateToParts(new Date,{timeZoneName:"long"}).find(u=>u.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let d=e.games;const m=u=>Math.abs(new Date().getTime()-new Date(u.date).getTime());m(d[0])>m(d[d.length-1])&&(d=d.slice().reverse());const l=s?d.slice(0,ut):d;return a.jsxs("div",{className:"not-prose mb-3",children:[a.jsx("div",{className:"font-semibold",children:a.jsx(N,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),a.jsx("div",{className:"text-sm text-token-text-secondary",children:c}),l.length===1?a.jsx("div",{children:a.jsx(Fe,{children:a.jsx(Le.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:a.jsx(pr,{game:l[0]})})})})}):a.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:a.jsx(Fe,{children:l.map((u,h)=>a.jsx(Le.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:h*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:j("border-b border-token-border-medium py-3",h%2===0&&"lg:border-r lg:pr-4",h%2===1&&"lg:pl-4",Math.floor(h/2)===Math.ceil(d.length/2)-1&&"lg:border-b-0",h===d.length-1&&"border-b-0"),children:a.jsx(fr,{game:u})})},h))})}),d.length>ut&&a.jsx("div",{className:"mt-2 flex items-center justify-between",children:a.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!s),children:s?a.jsx(N,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:a.jsx(Os,{className:"mb-[-2px]"})}}):a.jsx(N,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:a.jsx(zs,{className:"mb-[-2px]"})}})})})]})}function fr({game:e}){const t=Bt(e),s=[e.first_team_info,e.second_team_info],n=s.find(c=>c.location==="home")??e.first_team_info,o=s.find(c=>c.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,i=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[a.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pr-3",children:[a.jsx(ae,{team:o.team,isWinner:i,logoSize:"small"}),a.jsx(ae,{team:n.team,isWinner:r,logoSize:"small"})]}),a.jsxs("div",{className:"flex flex-none flex-col items-start gap-1",children:[a.jsx(oe,{score:o.score,isWinner:i}),a.jsx(oe,{score:n.score,isWinner:r})]}),a.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:a.jsx(Zt,{game:e})})]})}function pr({game:e}){const t=Bt(e),s=[e.first_team_info,e.second_team_info],n=s.find(c=>c.location==="home")??e.first_team_info,o=s.find(c=>c.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,i=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full py-3 text-base",children:[a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(ae,{team:o.team,isWinner:i})}),a.jsx("div",{className:"ml-8 flex items-center justify-start",children:a.jsx(oe,{score:o.score,isWinner:i,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:a.jsx(Zt,{game:e})}),a.jsx("div",{className:"mr-8 flex items-center justify-end",children:a.jsx(oe,{score:n.score,isWinner:r,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(ae,{team:n.team,isWinner:r})})]})}function Yt(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function Bt(e){return Yt(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function ae({team:e,isWinner:t,logoSize:s}){return a.jsxs("span",{className:j("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&a.jsx(Wt,{team:{name:e.name,logo:e.logo},className:j(s==="small"?"w-6":"w-8")}),a.jsx("span",{className:"truncate",children:e.name})]})}function oe({score:e,isWinner:t,className:s}){return e==null?null:a.jsx("span",{className:j(t&&"font-semibold",s),children:e})}function Zt({game:e}){const t=M();switch(Yt(e)){case"live":return a.jsxs(a.Fragment,{children:[a.jsx(gr,{}),a.jsx("div",{children:e.details})]});case"complete":return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-semibold",children:a.jsx(N,{id:"q/iMZL",defaultMessage:"Final"})}),a.jsx("div",{className:"text-token-text-secondary",children:Ne(t,new Date(e.date))})]});case"scheduled":{const s=new Date(e.date);return isNaN(s.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{children:Ne(t,s)}),a.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(s,{timeStyle:"short"})})]})}}}function gr(){return a.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:a.jsx(N,{id:"vObALn",defaultMessage:"Live"})})}function xr({standingsRef:e,trackContentReferenceEvent:t}){const[s,n]=p.useState(0),o=e.conferences.length>0;p.useEffect(()=>{o&&t(_.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[o]);const r=e.conferences[s],i=e.conferences.length>1?e.conferences.map((c,d)=>a.jsx("button",{className:j(s===d?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(d),children:c.name},c.name)):null;return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"flex gap-4",children:i}),a.jsx("div",{className:"mt-3",children:r.divisions.map(c=>c.name?a.jsx("div",{className:"mt-3",children:a.jsx(ht,{division:c,teamsColumnHeader:c.name})},c.name):a.jsx(ht,{division:c}))})]})}function ht({division:e,teamsColumnHeader:t}){const s=e.headers.map(n=>n.key);return a.jsxs(T.Root,{size:"compact",className:"not-prose",children:[a.jsxs(T.Header,{children:[a.jsx(yr,{children:t??a.jsx(N,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(n=>a.jsx(qt,{textAlign:"center",className:"min-w-11 !px-0",children:a.jsx(mt,{data:n})},n.key))]}),a.jsx(T.Body,{children:e.teams.map(({team:n,data:o},r)=>{const i=o.reduce((c,d)=>(c[d.key]=d,c),{});return a.jsxs(T.Row,{children:[a.jsx(T.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:r+1}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsx(Wt,{team:n,className:"w-6"}),a.jsx("span",{className:"whitespace-nowrap text-base",children:n.name})]})]})}),s.map(c=>a.jsx(T.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:a.jsx(mt,{data:i[c]})},c))]},n.name)})})]})}function mt({data:e}){switch(e.type){case"text":return a.jsx(a.Fragment,{children:e.text});default:return a.jsx(a.Fragment,{children:e.alt})}}const qt=bt(T.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,yr=bt(qt)`text-token-text-primary !pl-0`;function br({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t(_.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=M(),n=W(e.utc_time,e.utc_offset),o=s.formatDate(n,{hour:"numeric",minute:"numeric"});return a.jsx("span",{children:o})}function vr({metadata:e,trackContentReferenceEvent:t}){return p.useEffect(()=>{t(_.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),a.jsx("div",{children:e.url?a.jsx(Gs,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:a.jsx(F,{href:e.url,className:"!font-semibold",children:e.description})}):a.jsx("div",{className:"!font-semibold",children:e.description})})}function wr({url:e,className:t}){let s;const n="aspect-video w-full rounded-lg",o=$r(e);o&&(s=a.jsx(jr,{videoId:o,className:n}));const r=Nr(e);return r&&(s=a.jsx(_r,{videoId:r,className:n})),s?a.jsx("div",{className:t,children:s}):null}function $r(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,s=e.match(t);return s?s[1]:null}function jr({videoId:e,className:t}){return a.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Nr(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,s=e.match(t);return s?s[1]:null}function _r({videoId:e,className:t}){return a.jsx(a.Fragment,{children:a.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function kr({video:e,trackContentReferenceEvent:t}){const s={url:e.url,title:e.title};return p.useEffect(()=>{t(_.searchContentReferenceShown,"search_content_reference_shown",e.type,s)},[]),e.url==null||e.url===""?null:a.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:a.jsx(wr,{url:e.url})})}const Cr=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34354 4.92894C6.7341 5.31946 6.7341 5.95263 6.34354 6.34315C3.21906 9.46735 3.21906 14.5327 6.34354 17.6569C6.7341 18.0474 6.7341 18.6806 6.34354 19.0711C5.95298 19.4616 5.31976 19.4616 4.9292 19.0711C1.0236 15.1658 1.0236 8.83418 4.9292 4.92894C5.31976 4.53842 5.95298 4.53842 6.34354 4.92894ZM17.6583 4.92894C18.0488 4.53842 18.682 4.53842 19.0726 4.92894C22.9782 8.83418 22.9782 15.1658 19.0726 19.0711C18.682 19.4616 18.0488 19.4616 17.6583 19.0711C17.2677 18.6806 17.2677 18.0474 17.6583 17.6569C20.7827 14.5327 20.7827 9.46735 17.6583 6.34315C17.2677 5.95263 17.2677 5.31946 17.6583 4.92894Z",fill:"currentColor"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17222 7.75737C9.56278 8.14789 9.56278 8.78106 9.17222 9.17158C7.60998 10.7337 7.60998 13.2663 9.17222 14.8284C9.56278 15.219 9.56278 15.8521 9.17222 16.2426C8.78166 16.6332 8.14844 16.6332 7.75788 16.2426C5.41452 13.8995 5.41452 10.1005 7.75788 7.75737C8.14844 7.36684 8.78166 7.36684 9.17222 7.75737ZM14.8296 7.75737C15.2201 7.36684 15.8534 7.36684 16.2439 7.75737C18.5873 10.1005 18.5873 13.8995 16.2439 16.2426C15.8534 16.6332 15.2201 16.6332 14.8296 16.2426C14.439 15.8521 14.439 15.219 14.8296 14.8284C16.3918 13.2663 16.3918 10.7337 14.8296 9.17158C14.439 8.78106 14.439 8.14789 14.8296 7.75737Z",fill:"currentColor"}),p.createElement("path",{d:"M14.0011 12C14.0011 13.1046 13.1056 14 12.0009 14C10.8962 14 10.0007 13.1046 10.0007 12C10.0007 10.8954 10.8962 10 12.0009 10C13.1056 10 14.0011 10.8954 14.0011 12Z",fill:"currentColor"})),Sr="webp",Pr=96,Mr=96,Dr="srgb",Tr=4,Ar="uchar",Er=288,Ir=!1,Fr=!1,Lr=!0,Rr="/assets/cloud-foggy-o4a3hmky.webp",Hr={format:Sr,width:Pr,height:Mr,space:Dr,channels:Tr,depth:Ar,density:Er,isProgressive:Ir,hasProfile:Fr,hasAlpha:Lr,src:Rr},Or="webp",zr=96,Ur=96,Wr="srgb",Yr=4,Br="uchar",Zr=288,qr=!1,Vr=!1,Gr=!0,Xr="/assets/cloudy-co8vwrk7.webp",Kr={format:Or,width:zr,height:Ur,space:Wr,channels:Yr,depth:Br,density:Zr,isProgressive:qr,hasProfile:Vr,hasAlpha:Gr,src:Xr},Jr="webp",Qr=96,ei=96,ti="srgb",si=4,ni="uchar",ai=288,oi=!1,ri=!1,ii=!0,ci="/assets/heavy-snow-mke52kag.webp",li={format:Jr,width:Qr,height:ei,space:ti,channels:si,depth:ni,density:ai,isProgressive:oi,hasProfile:ri,hasAlpha:ii,src:ci},di="webp",ui=96,hi=96,mi="srgb",fi=4,pi="uchar",gi=288,xi=!1,yi=!1,bi=!0,vi="/assets/light-snow-mcy1l7t9.webp",wi={format:di,width:ui,height:hi,space:mi,channels:fi,depth:pi,density:gi,isProgressive:xi,hasProfile:yi,hasAlpha:bi,src:vi},$i="webp",ji=96,Ni=96,_i="srgb",ki=4,Ci="uchar",Si=288,Pi=!1,Mi=!1,Di=!0,Ti="/assets/moon-drizzle-cplxr2ub.webp",Ai={format:$i,width:ji,height:Ni,space:_i,channels:ki,depth:Ci,density:Si,isProgressive:Pi,hasProfile:Mi,hasAlpha:Di,src:Ti},Ei="webp",Ii=96,Fi=96,Li="srgb",Ri=4,Hi="uchar",Oi=288,zi=!1,Ui=!1,Wi=!0,Yi="/assets/moon-hazy-jvgt25bp.webp",Bi={format:Ei,width:Ii,height:Fi,space:Li,channels:Ri,depth:Hi,density:Oi,isProgressive:zi,hasProfile:Ui,hasAlpha:Wi,src:Yi},Zi="webp",qi=96,Vi=96,Gi="srgb",Xi=4,Ki="uchar",Ji=288,Qi=!1,ec=!1,tc=!0,sc="/assets/moon-mostly-cloudy-cia3do0v.webp",nc={format:Zi,width:qi,height:Vi,space:Gi,channels:Xi,depth:Ki,density:Ji,isProgressive:Qi,hasProfile:ec,hasAlpha:tc,src:sc},ac="webp",oc=96,rc=96,ic="srgb",cc=4,lc="uchar",dc=288,uc=!1,hc=!1,mc=!0,fc="/assets/moon-mostly-sunny-n3mh1b6a.webp",pc={format:ac,width:oc,height:rc,space:ic,channels:cc,depth:lc,density:dc,isProgressive:uc,hasProfile:hc,hasAlpha:mc,src:fc},gc="webp",xc=96,yc=96,bc="srgb",vc=4,wc="uchar",$c=288,jc=!1,Nc=!1,_c=!0,kc="/assets/moon-shower-ntzhti9o.webp",Cc={format:gc,width:xc,height:yc,space:bc,channels:vc,depth:wc,density:$c,isProgressive:jc,hasProfile:Nc,hasAlpha:_c,src:kc},Sc="webp",Pc=96,Mc=96,Dc="srgb",Tc=4,Ac="uchar",Ec=288,Ic=!1,Fc=!1,Lc=!0,Rc="/assets/moon-sunny-eg2emh4d.webp",Hc={format:Sc,width:Pc,height:Mc,space:Dc,channels:Tc,depth:Ac,density:Ec,isProgressive:Ic,hasProfile:Fc,hasAlpha:Lc,src:Rc},Oc="webp",zc=96,Uc=96,Wc="srgb",Yc=4,Bc="uchar",Zc=288,qc=!1,Vc=!1,Gc=!0,Xc="/assets/rain-thunder-bx7a0l5g.webp",Kc={format:Oc,width:zc,height:Uc,space:Wc,channels:Yc,depth:Bc,density:Zc,isProgressive:qc,hasProfile:Vc,hasAlpha:Gc,src:Xc},Jc="webp",Qc=96,el=96,tl="srgb",sl=4,nl="uchar",al=288,ol=!1,rl=!1,il=!0,cl="/assets/rain-cxs76xuj.webp",ll={format:Jc,width:Qc,height:el,space:tl,channels:sl,depth:nl,density:al,isProgressive:ol,hasProfile:rl,hasAlpha:il,src:cl},dl="webp",ul=96,hl=96,ml="srgb",fl=4,pl="uchar",gl=288,xl=!1,yl=!1,bl=!0,vl="/assets/sleet-gc63vwmo.webp",wl={format:dl,width:ul,height:hl,space:ml,channels:fl,depth:pl,density:gl,isProgressive:xl,hasProfile:yl,hasAlpha:bl,src:vl},$l="webp",jl=96,Nl=96,_l="srgb",kl=4,Cl="uchar",Sl=288,Pl=!1,Ml=!1,Dl=!0,Tl="/assets/snow-d0k6tmmc.webp",Al={format:$l,width:jl,height:Nl,space:_l,channels:kl,depth:Cl,density:Sl,isProgressive:Pl,hasProfile:Ml,hasAlpha:Dl,src:Tl},El="webp",Il=96,Fl=96,Ll="srgb",Rl=4,Hl="uchar",Ol=288,zl=!1,Ul=!1,Wl=!0,Yl="/assets/sun-drizzle-g94obr5e.webp",Bl={format:El,width:Il,height:Fl,space:Ll,channels:Rl,depth:Hl,density:Ol,isProgressive:zl,hasProfile:Ul,hasAlpha:Wl,src:Yl},Zl="webp",ql=96,Vl=96,Gl="srgb",Xl=4,Kl="uchar",Jl=288,Ql=!1,ed=!1,td=!0,sd="/assets/sun-hazy-c3z1j0hy.webp",nd={format:Zl,width:ql,height:Vl,space:Gl,channels:Xl,depth:Kl,density:Jl,isProgressive:Ql,hasProfile:ed,hasAlpha:td,src:sd},ad="webp",od=96,rd=96,id="srgb",cd=4,ld="uchar",dd=288,ud=!1,hd=!1,md=!0,fd="/assets/sun-mostly-cloudy-d4o4zkga.webp",pd={format:ad,width:od,height:rd,space:id,channels:cd,depth:ld,density:dd,isProgressive:ud,hasProfile:hd,hasAlpha:md,src:fd},gd="webp",xd=96,yd=96,bd="srgb",vd=4,wd="uchar",$d=288,jd=!1,Nd=!1,_d=!0,kd="/assets/sun-mostly-sunny-livrdkgu.webp",Cd={format:gd,width:xd,height:yd,space:bd,channels:vd,depth:wd,density:$d,isProgressive:jd,hasProfile:Nd,hasAlpha:_d,src:kd},Sd="webp",Pd=96,Md=96,Dd="srgb",Td=4,Ad="uchar",Ed=288,Id=!1,Fd=!1,Ld=!0,Rd="/assets/sun-shower-lvtjthah.webp",Hd={format:Sd,width:Pd,height:Md,space:Dd,channels:Td,depth:Ad,density:Ed,isProgressive:Id,hasProfile:Fd,hasAlpha:Ld,src:Rd},Od="webp",zd=96,Ud=96,Wd="srgb",Yd=4,Bd="uchar",Zd=288,qd=!1,Vd=!1,Gd=!0,Xd="/assets/sun-sunny-kqjpjzd8.webp",Kd={format:Od,width:zd,height:Ud,space:Wd,channels:Yd,depth:Bd,density:Zd,isProgressive:qd,hasProfile:Vd,hasAlpha:Gd,src:Xd},Jd="webp",Qd=96,eu=96,tu="srgb",su=4,nu="uchar",au=288,ou=!1,ru=!1,iu=!0,cu="/assets/thunder-jgjqg9ai.webp",lu={format:Jd,width:Qd,height:eu,space:tu,channels:su,depth:nu,density:au,isProgressive:ou,hasProfile:ru,hasAlpha:iu,src:cu},du="webp",uu=96,hu=96,mu="srgb",fu=4,pu="uchar",gu=288,xu=!1,yu=!1,bu=!0,vu="/assets/tornado-opa24tq3.webp",wu={format:du,width:uu,height:hu,space:mu,channels:fu,depth:pu,density:gu,isProgressive:xu,hasProfile:yu,hasAlpha:bu,src:vu},$u="webp",ju=96,Nu=96,_u="srgb",ku=4,Cu="uchar",Su=288,Pu=!1,Mu=!1,Du=!0,Tu="/assets/windy-mw0a3u21.webp",Au={format:$u,width:ju,height:Nu,space:_u,channels:ku,depth:Cu,density:Su,isProgressive:Pu,hasProfile:Mu,hasAlpha:Du,src:Tu},Eu="webp",Iu=96,Fu=96,Lu="srgb",Ru=4,Hu="uchar",Ou=288,zu=!1,Uu=!1,Wu=!0,Yu="/assets/cloud-foggy-fhg0jn0w.webp",Bu={format:Eu,width:Iu,height:Fu,space:Lu,channels:Ru,depth:Hu,density:Ou,isProgressive:zu,hasProfile:Uu,hasAlpha:Wu,src:Yu},Zu="webp",qu=96,Vu=96,Gu="srgb",Xu=4,Ku="uchar",Ju=288,Qu=!1,eh=!1,th=!0,sh="/assets/cloudy-disd26f3.webp",nh={format:Zu,width:qu,height:Vu,space:Gu,channels:Xu,depth:Ku,density:Ju,isProgressive:Qu,hasProfile:eh,hasAlpha:th,src:sh},ah="webp",oh=96,rh=96,ih="srgb",ch=4,lh="uchar",dh=288,uh=!1,hh=!1,mh=!0,fh="/assets/heavy-snow-g6jjwo2d.webp",ph={format:ah,width:oh,height:rh,space:ih,channels:ch,depth:lh,density:dh,isProgressive:uh,hasProfile:hh,hasAlpha:mh,src:fh},gh="webp",xh=96,yh=96,bh="srgb",vh=4,wh="uchar",$h=288,jh=!1,Nh=!1,_h=!0,kh="/assets/light-snow-iz0efpkh.webp",Ch={format:gh,width:xh,height:yh,space:bh,channels:vh,depth:wh,density:$h,isProgressive:jh,hasProfile:Nh,hasAlpha:_h,src:kh},Sh="webp",Ph=96,Mh=96,Dh="srgb",Th=4,Ah="uchar",Eh=288,Ih=!1,Fh=!1,Lh=!0,Rh="/assets/moon-drizzle-b1nfv39c.webp",Hh={format:Sh,width:Ph,height:Mh,space:Dh,channels:Th,depth:Ah,density:Eh,isProgressive:Ih,hasProfile:Fh,hasAlpha:Lh,src:Rh},Oh="webp",zh=96,Uh=96,Wh="srgb",Yh=4,Bh="uchar",Zh=288,qh=!1,Vh=!1,Gh=!0,Xh="/assets/moon-hazy-nfnzea7a.webp",Kh={format:Oh,width:zh,height:Uh,space:Wh,channels:Yh,depth:Bh,density:Zh,isProgressive:qh,hasProfile:Vh,hasAlpha:Gh,src:Xh},Jh="webp",Qh=96,em=96,tm="srgb",sm=4,nm="uchar",am=288,om=!1,rm=!1,im=!0,cm="/assets/moon-mostly-cloudy-e56e3z55.webp",lm={format:Jh,width:Qh,height:em,space:tm,channels:sm,depth:nm,density:am,isProgressive:om,hasProfile:rm,hasAlpha:im,src:cm},dm="webp",um=96,hm=96,mm="srgb",fm=4,pm="uchar",gm=288,xm=!1,ym=!1,bm=!0,vm="/assets/moon-mostly-sunny-ffu4gzf4.webp",wm={format:dm,width:um,height:hm,space:mm,channels:fm,depth:pm,density:gm,isProgressive:xm,hasProfile:ym,hasAlpha:bm,src:vm},$m="webp",jm=96,Nm=96,_m="srgb",km=4,Cm="uchar",Sm=288,Pm=!1,Mm=!1,Dm=!0,Tm="/assets/moon-shower-e5dy9u48.webp",Am={format:$m,width:jm,height:Nm,space:_m,channels:km,depth:Cm,density:Sm,isProgressive:Pm,hasProfile:Mm,hasAlpha:Dm,src:Tm},Em="webp",Im=96,Fm=96,Lm="srgb",Rm=4,Hm="uchar",Om=288,zm=!1,Um=!1,Wm=!0,Ym="/assets/moon-sunny-d9o08xiw.webp",Bm={format:Em,width:Im,height:Fm,space:Lm,channels:Rm,depth:Hm,density:Om,isProgressive:zm,hasProfile:Um,hasAlpha:Wm,src:Ym},Zm="webp",qm=96,Vm=96,Gm="srgb",Xm=4,Km="uchar",Jm=288,Qm=!1,ef=!1,tf=!0,sf="/assets/rain-thunder-eplemvu1.webp",nf={format:Zm,width:qm,height:Vm,space:Gm,channels:Xm,depth:Km,density:Jm,isProgressive:Qm,hasProfile:ef,hasAlpha:tf,src:sf},af="webp",of=96,rf=96,cf="srgb",lf=4,df="uchar",uf=288,hf=!1,mf=!1,ff=!0,pf="/assets/rain-ogayr6kt.webp",gf={format:af,width:of,height:rf,space:cf,channels:lf,depth:df,density:uf,isProgressive:hf,hasProfile:mf,hasAlpha:ff,src:pf},xf="webp",yf=96,bf=96,vf="srgb",wf=4,$f="uchar",jf=288,Nf=!1,_f=!1,kf=!0,Cf="/assets/sleet-o8noil7l.webp",Sf={format:xf,width:yf,height:bf,space:vf,channels:wf,depth:$f,density:jf,isProgressive:Nf,hasProfile:_f,hasAlpha:kf,src:Cf},Pf="webp",Mf=96,Df=96,Tf="srgb",Af=4,Ef="uchar",If=288,Ff=!1,Lf=!1,Rf=!0,Hf="/assets/snow-lq4cl3uc.webp",Of={format:Pf,width:Mf,height:Df,space:Tf,channels:Af,depth:Ef,density:If,isProgressive:Ff,hasProfile:Lf,hasAlpha:Rf,src:Hf},zf="webp",Uf=96,Wf=96,Yf="srgb",Bf=4,Zf="uchar",qf=288,Vf=!1,Gf=!1,Xf=!0,Kf="/assets/sun-drizzle-htsohv65.webp",Jf={format:zf,width:Uf,height:Wf,space:Yf,channels:Bf,depth:Zf,density:qf,isProgressive:Vf,hasProfile:Gf,hasAlpha:Xf,src:Kf},Qf="webp",ep=96,tp=96,sp="srgb",np=4,ap="uchar",op=288,rp=!1,ip=!1,cp=!0,lp="/assets/sun-hazy-nfj7clcd.webp",dp={format:Qf,width:ep,height:tp,space:sp,channels:np,depth:ap,density:op,isProgressive:rp,hasProfile:ip,hasAlpha:cp,src:lp},up="webp",hp=96,mp=96,fp="srgb",pp=4,gp="uchar",xp=288,yp=!1,bp=!1,vp=!0,wp="/assets/sun-mostly-cloudy-e3pqqgs7.webp",$p={format:up,width:hp,height:mp,space:fp,channels:pp,depth:gp,density:xp,isProgressive:yp,hasProfile:bp,hasAlpha:vp,src:wp},jp="webp",Np=96,_p=96,kp="srgb",Cp=4,Sp="uchar",Pp=288,Mp=!1,Dp=!1,Tp=!0,Ap="/assets/sun-mostly-sunny-o99k1c7a.webp",Ep={format:jp,width:Np,height:_p,space:kp,channels:Cp,depth:Sp,density:Pp,isProgressive:Mp,hasProfile:Dp,hasAlpha:Tp,src:Ap},Ip="webp",Fp=96,Lp=96,Rp="srgb",Hp=4,Op="uchar",zp=288,Up=!1,Wp=!1,Yp=!0,Bp="/assets/sun-shower-ldwl4jbp.webp",Zp={format:Ip,width:Fp,height:Lp,space:Rp,channels:Hp,depth:Op,density:zp,isProgressive:Up,hasProfile:Wp,hasAlpha:Yp,src:Bp},qp="webp",Vp=96,Gp=96,Xp="srgb",Kp=4,Jp="uchar",Qp=!1,eg=!1,tg=!0,sg="/assets/sun-sunny-kqjpjzd8.webp",ng={format:qp,width:Vp,height:Gp,space:Xp,channels:Kp,depth:Jp,isProgressive:Qp,hasProfile:eg,hasAlpha:tg,src:sg},ag="webp",og=96,rg=96,ig="srgb",cg=4,lg="uchar",dg=288,ug=!1,hg=!1,mg=!0,fg="/assets/thunder-xzn1cku3.webp",pg={format:ag,width:og,height:rg,space:ig,channels:cg,depth:lg,density:dg,isProgressive:ug,hasProfile:hg,hasAlpha:mg,src:fg},gg="webp",xg=96,yg=96,bg="srgb",vg=4,wg="uchar",$g=288,jg=!1,Ng=!1,_g=!0,kg="/assets/tornado-diqu61wg.webp",Cg={format:gg,width:xg,height:yg,space:bg,channels:vg,depth:wg,density:$g,isProgressive:jg,hasProfile:Ng,hasAlpha:_g,src:kg},Sg="webp",Pg=96,Mg=96,Dg="srgb",Tg=4,Ag="uchar",Eg=288,Ig=!1,Fg=!1,Lg=!0,Rg="/assets/windy-n2v8wtyp.webp",Hg={format:Sg,width:Pg,height:Mg,space:Dg,channels:Tg,depth:Ag,density:Eg,isProgressive:Ig,hasProfile:Fg,hasAlpha:Lg,src:Rg},Og={foggy:{default:Hr},cloudy:{default:Kr},"heavy-snow":{default:li},"light-snow":{default:wi},sleet:{default:wl},drizzle:{default:Bl,night:Ai},hazy:{default:nd,night:Bi},"mostly-cloudy":{default:pd,night:nc},"mostly-sunny":{default:Cd,night:pc},shower:{default:Hd,night:Cc},sunny:{default:Kd,night:Hc},"rain-thunder":{default:Kc},rain:{default:ll},snow:{default:Al},thunder:{default:lu},tornado:{default:wu},windy:{default:Au}},zg={foggy:{default:Bu},cloudy:{default:nh},"heavy-snow":{default:ph},"light-snow":{default:Ch},sleet:{default:Sf},drizzle:{default:Jf,night:Hh},hazy:{default:dp,night:Kh},"mostly-cloudy":{default:$p,night:lm},"mostly-sunny":{default:Ep,night:wm},shower:{default:Zp,night:Am},sunny:{default:ng,night:Bm},"rain-thunder":{default:nf},rain:{default:gf},snow:{default:Of},thunder:{default:pg},tornado:{default:Cg},windy:{default:Hg}};function Ug({weatherCode:e,isDarkMode:t,isNight:s}){const n=t?zg:Og,o=Wg(e),r=n[o];return r.night&&s?r.night:r.default}function Wg(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const Yg="C";function Bg(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function ft(e,t,s=Yg){return e===s?`${Math.round(t)}°`:`${Bg(e,t)}°`}const Zg=7,pt=8,qg=p.memo(function({weatherResults:t,dateRange:s,turnIndex:n,trackContentReferenceEvent:o}){const[r,i]=ax(),c=Xg(t);p.useEffect(()=>{o(_.searchContentReferenceShown,"search_content_reference_shown","forecast")},[o]);const{daily:d,hourly:m,historical:l}=t;let u="daily";if(s||m&&d.length<2)u="hourly";else if(d.length>0)u="daily";else if(l&&l?.length>0)u="historical";else return null;return a.jsxs("div",{className:"relative",children:[c?a.jsxs(a.Fragment,{children:[a.jsx(Gg,{weatherResults:t}),a.jsx(Kg,{weatherResults:t,temperatureUnit:r,setTemperatureUnit:i})]}):a.jsx("div",{className:"absolute right-0 top-3 z-10 rounded bg-token-main-surface-primary",children:a.jsx(Vt,{onTemperatureUnitChange:i,temperatureUnit:r})}),a.jsx(tx,{turnIndex:n}),u==="hourly"&&a.jsx(Jg,{weatherResults:t,temperatureUnit:r,dateRange:s}),u==="daily"&&a.jsx(Qg,{dailyForecast:d.slice(0,Zg),temperatureUnit:r}),u==="historical"&&a.jsx(ex,{historical:l,temperatureUnit:r})]})});function Vg({weatherAlert:e}){const[t,s]=p.useState(!1),n=M(),o=xt(),r=I(e.start_timestamp,e.utc_offset_sec),i=e.end_timestamp?I(e.end_timestamp,e.utc_offset_sec):null,c=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx(N,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:n.formatDate(r,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:i?" - ":"",end:i?n.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),a.jsx("div",{children:e.summary})]});return a.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-left text-sm text-red-800",onClick:()=>s(!t),children:[a.jsxs("div",{className:"flex w-full items-center gap-4",children:[a.jsx(In,{className:"h-9 w-9 shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"font-bold",children:a.jsx(N,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),o&&c]}),a.jsx("div",{className:"flex-grow"}),a.jsx("div",{className:"opacity-30",children:t?a.jsx(Ln,{className:"icon-lg"}):a.jsx(Fn,{className:"icon-lg"})})]}),t&&e.details&&a.jsxs(a.Fragment,{children:[!o&&c,a.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function Gg({weatherResults:e}){const{severe:t}=e;return t?a.jsx("div",{className:"my-2",children:t.map((s,n)=>a.jsx(Vg,{weatherAlert:s},n))}):null}function Xg(e){const{historical:t,daily:s,hourly:n,current:o}=e;if(!o)return!1;let r=!1;const i=I(o.timestamp,o.utc_offset_sec);for(const c of[t,s,n])c&&(r=r||c?.some(d=>Us(i,I(d.timestamp,d.utc_offset_sec))));return r}function Kg({weatherResults:e,temperatureUnit:t,setTemperatureUnit:s}){const n=M(),{current:o}=e;if(!o)return null;const r=o.temperature.current,i=o.description,c=r!=null&&i&&" · ";return a.jsxs("div",{className:"not-prose flex items-center gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[r!=null&&a.jsx(N,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:R(n,r,t)}}),c,i.description]}),a.jsx("div",{className:"text-token-text-secondary",children:nx(e.location)})]}),a.jsxs("div",{className:"flex",children:[a.jsx(Vt,{onTemperatureUnitChange:s,temperatureUnit:t}),a.jsx(Ae,{weatherDescriptionData:i,isNight:o.night})]})]})}function Te({children:e}){return a.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:a.jsx(T.Root,{className:"min-w-0",children:a.jsx(T.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:e})})})}function Jg({weatherResults:e,temperatureUnit:t,dateRange:s}){const n=M(),{hourly:o,current:r}=e;let i=o??[];s&&(i=i.filter(l=>l.timestamp>=s.start_timestamp&&l.timestamp<s.end_timestamp));const[c,d]=p.useState(!1),m=i.length>pt;if(!c&&m){const l=i[0],u=I(l.timestamp,l.utc_offset_sec);let h=!1;if(r){const y=I(r.timestamp,r.utc_offset_sec);u.getTime()-y.getTime()>8*60*60*1e3&&i.length>18&&(i=i.slice(7,18),h=!0)}h||(i=i.slice(0,pt))}return a.jsxs(Te,{children:[i.map((l,u)=>a.jsxs(T.Row,{children:[a.jsxs(E,{className:"w-44",children:[a.jsx(Ae,{weatherDescriptionData:l.description,isNight:l.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:a.jsx("span",{className:"lowercase",children:sx(n,l)})})]}),a.jsx(E,{className:"w-[60px] tabular-nums",children:a.jsx("div",{children:R(n,l.temperature.current,t)})}),a.jsx(E,{children:l.description.description})]},u)),m&&a.jsx(T.Row,{children:a.jsx(E,{className:"w-44",children:a.jsx(vt,{color:"secondary",onClick:()=>d(!c),size:"small",children:c?a.jsx(N,{id:"KoC8Ym",defaultMessage:"Show less"}):a.jsx(N,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function Qg({dailyForecast:e,temperatureUnit:t}){const s=M();return a.jsx(Te,{children:e.map((n,o)=>a.jsxs(T.Row,{children:[a.jsxs(E,{className:"w-[7.5rem] min-w-[7.5rem]",children:[a.jsx(Ae,{weatherDescriptionData:n.description,isNight:n.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:Ne(s,I(n.timestamp,n.utc_offset_sec))})]}),a.jsxs(E,{className:"tabular-nums",children:[a.jsx("div",{children:R(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:R(s,n.temperature.min,t)})]}),a.jsx(E,{className:"min-w-80",children:n.description.description})]},o))})}function ex({historical:e,temperatureUnit:t}){const s=M();return e?a.jsx(Te,{children:e.map((n,o)=>{const r=I(n.timestamp,n.utc_offset_sec);return a.jsxs(T.Row,{children:[a.jsx(E,{className:"w-[250px]",children:a.jsx("div",{className:"ml-3 whitespace-nowrap",children:s.formatDate(r,{weekday:"long",month:"short",day:"numeric"})})}),a.jsx(E,{className:"tabular-nums",children:n.temperature.max&&n.temperature.min?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:R(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:R(s,n.temperature.min,t)})]}):a.jsx("div",{children:R(s,n.temperature.current,t)})}),a.jsx(E,{})]},o)})}):null}function E({className:e,children:t}){return a.jsx(T.Cell,{className:j("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:t})}function tx({turnIndex:e}){const t=mn(n=>n.thread?.turns[e]?.use_location),[s]=dn();return!s.useLocation&&t?a.jsx("div",{className:"mt-3",children:a.jsx(vt,{color:"secondary",icon:Cr,onClick:()=>{un.setSettingsModalOpen(!0)},children:a.jsx(N,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function Vt({temperatureUnit:e,onTemperatureUnitChange:t}){const s=n=>e===n?"font-bold":"font-light";return a.jsx(us,{size:"small",triggerButton:a.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:a.jsx(Ws,{className:"icon-sm-heavy"})}),children:a.jsxs(hs.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[a.jsx(N,{id:"bQIoe/",defaultMessage:"Temperature"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:s("F"),children:a.jsx(N,{id:"bvDeBB",defaultMessage:"°F"})}),a.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),a.jsx("div",{className:s("C"),children:a.jsx(N,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function Ae({weatherDescriptionData:e,isNight:t=!1,size:s="normal"}){const n=V(),o=s==="small"?30:50;return a.jsx("img",{draggable:!1,alt:e.description,src:Ug({weatherCode:e.id,isDarkMode:n,isNight:t}).src,width:o,height:o})}function sx(e,t){const s=I(t.timestamp,t.utc_offset_sec);return e.formatDate(s,{hour:"numeric"})}function R(e,t,s){return t==null?"-":ft(s?s??"F":Gt(e),t)}function Gt(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],s=e.locale||"en-US";return t.includes(s)?"F":"C"}function nx(e){const t=e.name.split(",").map(s=>s.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const ax=()=>{const e=M(),[t,s]=hn("USER_TEMPERATURE_UNIT",Gt(e),n=>["F","C"].includes(n));return[t,s]},ox=ms(()=>fs(()=>import("./e70piu0x8jecj9oy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])).then(e=>e.BusinessesMap));function rx({index:e,FormattedText:t,node:s}){const n=parseInt(e,10),o=p.useContext(ie),{value:r}=wt("756982148"),i=Ys(o?.analyticsMetadata);if(o==null)return null;const{contentReferences:c,onShowSearchResults:d,numImageResults:m,analyticsMetadata:l,message:u}=o,h=c?.[n],y=l?.clientThreadId==null;if(!h||l.turnIndex===void 0||h.type===void 0)return null;let f=null;switch(h.type){case"title_citation":f=a.jsx(vr,{metadata:h,trackContentReferenceEvent:i});break;case"location_search":f=a.jsx(Ko,{metadata:h,trackContentReferenceEvent:i});break;case"time":f=a.jsx(br,{metadata:h,trackContentReferenceEvent:i});break;case"image_v2":f=a.jsx(Rt,{metadata:h,numImageResults:m??0,analyticsMetadata:l,trackContentReferenceEvent:i});break;case"nav_list":f=a.jsx(Jo,{metadata:h,trackContentReferenceEvent:i});break;case"file_navlist":f=a.jsx(uo,{metadata:h,trackContentReferenceEvent:i});break;case"file":f=a.jsx(ro,{fileRef:h,index:n,trackContentReferenceEvent:i});break;case"grouped_webpages_model_predicted_fallback":f=a.jsx(Ks,{webpageRef:h,node:s,trackContentReferenceEvent:i,messageId:o.message.id,index:n});break;case"grouped_webpages":f=a.jsx(Xs,{webpageRef:h,node:s,trackContentReferenceEvent:i,messageId:o.message.id,index:n});break;case"tldr":f=r?a.jsx(We,{navigation:{...h,type:"navigation",domains:[{title:h.page_title,subtitle:h.display_title,domain:h.breadcrumbs[0],url:h.url,sub_domains:[]}]},onShowSearchResults:d,trackContentReferenceEvent:i}):a.jsx(Bs,{tldr:h,trackContentReferenceEvent:i});break;case"navigation":f=a.jsx(We,{navigation:h,onShowSearchResults:d,trackContentReferenceEvent:i});break;case"stock":f=a.jsx(qo,{contentReference:h,trackContentReferenceEvent:i});break;case"calculator":f=a.jsx(Qa,{data:h,trackContentReferenceEvent:i});break;case"code_execution":f=a.jsx(no,{FormattedText:t,displayInfo:h,trackContentReferenceEvent:i});break;case"forecast":f=h?.forecast&&a.jsx(qg,{weatherResults:h.forecast,dateRange:h.date_range,turnIndex:l.turnIndex,trackContentReferenceEvent:i});break;case"businesses_map":f=a.jsx(ox,{contentReference:h,trackContentReferenceEvent:i});break;case"video":f=a.jsx(kr,{video:h,trackContentReferenceEvent:i});break;case"sources_footnote":f=a.jsx(tr,{sourcesFootnote:h,onShowSearchResults:d,trackContentReferenceEvent:i,isSearchGptApp:y});break;case"sports_standings":f=a.jsx(xr,{standingsRef:h,trackContentReferenceEvent:i});break;case"sports_schedule":f=a.jsx(mr,{scheduleRef:h,trackContentReferenceEvent:i});break;case"attribution":f=a.jsx(Ga,{attribution:h});break;case"debug":f=a.jsx(a.Fragment,{children:Object.entries(h).map(([w,v])=>a.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:v},w))});break;case"image_inline":f=a.jsx(qa,{reference:h,clientThreadId:o.clientThreadId,trackContentReferenceEvent:i,message:u});break;case"product_reviews":f=!1;break;case"products":f=!1;break}return a.jsx(Ce,{name:"content-reference-renderer",fallback:w=>(i(_.searchContentReferenceFailed,"search_content_reference_failed",h.type),yt.addError(`Error rendering content reference: ${h.type}`,{...w,contentReference:h}),h?.alt?a.jsx(Me,{components:{img:({src:v,alt:b})=>a.jsx("img",{src:v,alt:b,className:"max-h-28"})},children:h.alt}):a.jsx("span",{className:`errored-object-${h.type}`})),children:f})}function ix(e){const{src:t,clientThreadId:s,...n}=e,o=gt(s),r=p.useContext(ie),i=ln(o,t,r?.useSafeUrls);return i==null?a.jsx("div",{}):a.jsx("img",{...n,src:i})}function cx(e){return a.jsx(rx,{...e,FormattedText:Xt})}function Xt({size:e="medium",children:t,className:s,clientThreadId:n,messageId:o,isActivelyStreaming:r=!1,interpolateCitations:i=!1,componentOverrides:c,isDeepResearchResultMessage:d,enableWordByWordEntry:m=Zs(),enableNewEntryAnimation:l=qs()}){const u=V(),h=ps(),y=p.useMemo(()=>({pre:({children:b,"data-start":$,"data-end":k,"data-is-last-node":g})=>a.jsx("pre",{className:"!overflow-visible","data-start":$,"data-end":k,"data-is-last-node":g,children:b}),code:b=>a.jsx(Js,{...b,clientThreadId:n}),[gs]:cx,[Qs]:en,a:b=>{const{node:$,children:k,...g}=b,x=$?.properties?.href;if(typeof x=="string"&&x.startsWith(ze))return h?a.jsx(tn,{...g}):n!=null&&o!=null?a.jsx(sn,{...g,clientThreadId:n,messageId:o,href:x,children:k}):null;if(typeof x=="string"&&x===nn){const C=$?.children?.map(S=>typeof S.value=="string"?S.value:"").join("").trim();return a.jsx(an,{...b,text:C,clientThreadId:n,messageId:o,className:"cursor-pointer"})}return x&&typeof x=="string"&&Oa(x)?k:a.jsx(on,{...b,clientThreadId:n,messageId:o,interpolateCitations:i})},td:({children:b})=>a.jsx("td",{children:p.Children.map(b,($,k)=>$==="<br>"?a.jsx("br",{},k):$)}),img:({node:b,...$})=>{const k=b?.properties?.src;return typeof k=="string"&&(k.startsWith(ze)||k.startsWith("attachment:"))?null:a.jsx(ix,{...$,clientThreadId:n})},...m?Vn:{},...c}),[c,n,o,i,h,m]),f=p.useMemo(()=>l?[...ee,rn]:ee,[l]),w=p.useMemo(()=>r&&l?Gn(t):t,[t,r,l]),{value:v}=wt("1839283687");return v?!1:a.jsx(Ce,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:w}),children:a.jsx(mx,{rehypePlugins:kt,remarkPlugins:f,className:j(s,"markdown prose w-full break-words dark:prose-invert",u?"dark":"light",e==="small"&&"prose-xs",d&&"deep-research-result"),urlTransform:Ct,components:y,children:w})})}function lx(e,t,s=void 0){return e===ys.SystemHint?a.jsx("span",{className:"hint-pill",children:t},s):null}function dx({text:e,customSymbolOffsets:t}){return a.jsx(Ce,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:e}),children:a.jsx(ux,{text:e,customSymbolOffsets:t})})}const ux=({text:e,customSymbolOffsets:t=[]})=>{const s=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let n=0;const o=e.split(s).flatMap((r,i)=>{const c=n;if(n+=r.length,r.startsWith("```")&&r.endsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3,-3).trim()})},i);if(r.startsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3).trim()})},i);if(r.startsWith("`")&&r.endsWith("`"))return a.jsx("code",{children:r.slice(1,-1)},i);if(r.startsWith("`"))return a.jsx("code",{children:r.slice(1)},i);{const d=t.map(m=>xs(m)).find(m=>c<=m.startIndex&&m.endIndex<=n);if(d){const m=d.startIndex-c,l=d.endIndex-c,u=r.slice(0,m),h=r.slice(l),y=r.slice(m,l);return[u,lx(d.symbol,y,i),h].filter(f=>!!f)}return r}});return a.jsx("div",{className:"whitespace-pre-wrap",children:o})};async function hx(e){const s=await vn().use(wn).use(ee).use($n).use(cn).use(Ha).process(e);return String(s)}const mx=p.memo(Me),Sx=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:Xt,UserFormattedText:dx,markdownToHtml:hx},Symbol.toStringTag,{value:"Module"}));export{Xt as F,Sx as a,Un as s};
//# sourceMappingURL=eto0fc8nib9bl0nl.js.map
