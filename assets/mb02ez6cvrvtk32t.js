import{f4 as A,al as C,ae as g,ar as R,cj as w,a3 as E,a4 as y,Q as O,eN as L,P as M,a as v}from"./hggowi1ggrzb09yc.js";import{h as j,d as x,w as S,r as i,aw as T,j as r}from"./izh0i1dfnf8ev7x1.js";import{A as b}from"./gsc8biiiorwd5ik4.js";import{bw as N}from"./fc2hzad6rtrm7s5f.js";import{C as o}from"./b4a14tf8gxduqpkr.js";import"./e071ia1mvjpy4jz5.js";import"./cn4a1z79lddhqdbi.js";const P={pro:"chatgptpro",plus:"chatgptplusplan"},_=Object.keys(o),D={oiw216z:"sora_redirect",vza493q:"operator_redirect"};function F(s){s&&o[s]&&(window.location.href=o[s])}const G=A(function(){const[h]=j(),n=x(),u=C(),{plan:t}=S(),e=h.get("checkout_from"),l=i.useRef(!1),a=g(),p=i.useMemo(()=>a?.subscriptionAnalyticsParams,[a]),{value:c,isLoading:m}=R("1719651090");if(!t||!(t in P))throw T("/");return i.useEffect(()=>{if(!a||m||l.current)return;if(l.current=!0,e==="vza493q"){a.hasPaidSubscription()&&a.isPro()?window.location.href=o[e]:c||n("/");return}(async()=>{const d=e&&_.includes(e)?D[e]:"purchase_plan_redirect";try{e&&_.includes(e)&&E.setItem(y.CheckoutFrom,e);const f=await O.getCheckoutLink(u,"Sora",{plan_name:P[t],billing_details:{currency:L}});M.logEvent(v.accountPayPurchasePlanRedirect,{...p,plan:t,location:d}),window.location.href=f.url}catch{N(n,d)}})()},[n,u,t,e,p,m,c,a]),r.jsxs(r.Fragment,{children:[a&&e==="vza493q"&&c&&r.jsx(b,{currentAccount:a,variant:"operator",onClose:()=>F(e)}),r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:r.jsx(w,{})})]})});export{G as default};
//# sourceMappingURL=mb02ez6cvrvtk32t.js.map
