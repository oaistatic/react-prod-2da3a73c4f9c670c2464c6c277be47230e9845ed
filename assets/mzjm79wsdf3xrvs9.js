const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/irzc55y97ndrcbsm.js","assets/hggowi1ggrzb09yc.js","assets/izh0i1dfnf8ev7x1.js","assets/root-ko7rpr3h.css","assets/fc2hzad6rtrm7s5f.js","assets/conversation-small-lgvqkxxm.css","assets/lbq2awutv983x6w1.js","assets/f3mk3eu1wcl6fjlu.js","assets/ei7ej0cmjdt2qsbq.js","assets/ktras8z3bowlgaf3.js","assets/c0dr65ykcqmn5jn4.js","assets/lb1py1igp6jzrtce.js","assets/8nxoaz0vb9p890un.js","assets/et4ywzsmc47u3i7v.js","assets/hjbk0a4n40hheieo.js","assets/in3ze5ugryldzaj2.js","assets/ab6tyx2xygyb56l3.js","assets/ddzilicy6qtleo90.js","assets/m7r17aksjqnnuufi.js","assets/ojcgwgwujkn9jneg.js","assets/j7xrr4x8o3ssozmz.js","assets/kh1pguo5uwldp8r4.js","assets/paq1bye12yp7s2hg.js","assets/modzmagtrlhmunl0.js","assets/ecq5q109ux6uwiin.js","assets/ntdjjw6s1dl31tgb.js","assets/jr1b41w4nuv00isi.js","assets/h28ootcilxet47c8.js","assets/bluopupp3hty4d7q.js","assets/ca7lq2gyndiywe6g.js","assets/c9avu4yfkjav9bdb.js","assets/nf7qs4jioxsy0qcq.js","assets/myyiiqb6up4h3fac.js","assets/nb7ikr25bnd89k3f.js","assets/keshfl7thq1dh5vg.js","assets/hg9mdduuem2pvwuj.js","assets/l4ce2zdnnawhaijx.js","assets/iemgi2z64e5uqrv4.js","assets/oyoqdz9lwzk3lgxh.js","assets/bqaw7aag2c6iw58l.js","assets/ohyflymiror10qd4.js","assets/knizt02844mv3db5.js","assets/gy64pge8qevmvg7e.js","assets/dxpde14qu5zfq5m7.js","assets/iejjcjl0eek5zfni.js","assets/gq56vmyv6ftpm8ay.js","assets/edwitfgce1i7kzg0.js","assets/hz86nu26alptyjds.js","assets/fzrn137102spawew.js","assets/d7bvxndom3b3tpj8.js","assets/lx9hhkuca66lgvof.js","assets/bk8slwxjkdlmxjxm.js","assets/nn6gjrst5lwozesx.js","assets/d60wxt0885pttnzn.js","assets/mesuhiy66f679pn3.js","assets/btagl6w1gub4aw61.js","assets/ii8o6kgp7nvdcce2.js","assets/kgo463uf51owuthd.js"])))=>i.map(i=>d[i]);
import{fA as Z,S as H,P as B,a as G,d0 as $,u as ee,e3 as K,gD as P,bv as f,bw as x,eh as h,gM as se,eg as ae,d as te,dx as I,bu as re,J as ie,gN as oe,dl as O,H as V,gi as ne,gj as de,dR as le,fC as ce,r as ue,aj as he,aK as me,fv as fe,Q as xe}from"./hggowi1ggrzb09yc.js";import{r as n,j as e,ax as q,d as ge,a as Q,c as pe,av as m,e as R,h as je,u as ve}from"./izh0i1dfnf8ev7x1.js";import{jt as be,ju as W,jv as Ce,gc as we,jw as L,iO as E,iw as Ee,cp as k,cq as D,u as Se,jx as ye,jy as Te,jz as Ie,hX as ke,jA as _e,jB as Ne,E as Fe,jC as Me,w as Ae,z as Pe,F as Oe,jD as Ve,bD as Re,cU as Le,jE as De,jF as Ue,jG as ze,jH as He,i as Be,g7 as Ge,jI as Ke,dF as qe,cZ as Qe,jJ as We,jK as Xe,jL as Ye,T as U,hY as Je,jM as Ze,jN as $e,jO as es}from"./fc2hzad6rtrm7s5f.js";import{b as ss,u as as}from"./c0dr65ykcqmn5jn4.js";import{C as ts}from"./et4ywzsmc47u3i7v.js";import{a as X,u as _}from"./in3ze5ugryldzaj2.js";import{C as Y}from"./nf7qs4jioxsy0qcq.js";import{M as rs}from"./ntdjjw6s1dl31tgb.js";import{K as is}from"./nb7ikr25bnd89k3f.js";import{u as os}from"./ddzilicy6qtleo90.js";import{C as ns}from"./hjbk0a4n40hheieo.js";import{C as ds,a as ls}from"./ojcgwgwujkn9jneg.js";function cs(){const s=be(r=>r.notifications),{activeThreadIds:a}=Z(),i=n.useRef(new Set);return n.useEffect(()=>{s.filter(t=>t.clientThreadId===void 0||a.has(t.clientThreadId)).map(t=>t.id).filter(t=>t!==void 0).forEach(t=>W(t)),s.forEach(t=>{t.id&&!i.current.has(t.id)&&(H.logEvent("chatgpt_notification_shown"),B.logEvent(G.notificationShown),i.current.add(t.id))})},[a,s]),s.length===0||$?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(q,{children:s.map(r=>e.jsx(us,{...r},r.id))})})}function us({...s}){const a=ge(),i=Q(),r=pe(),t=ee(s.clientThreadId),l=()=>{H.logEvent("chatgpt_notification_clicked"),B.logEvent(G.notificationClicked),s.onClick!=null?s.onClick():t&&we(a,i,t),s.id&&W(s.id)};return e.jsxs(m.div,{onClick:l,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(Ce,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:s.title??r.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:s.subtitle??r.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const z=450;function hs({children:s,clientThreadId:a,isOpen:i,onClose:r}){const t=K();return e.jsxs(q,{children:[i&&t&&e.jsx(X,{clientThreadId:a,children:e.jsx(P,{children:e.jsx(L.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...E}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(m.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:z},...E,children:e.jsx(Y,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:s})]})]})})})}),i&&!t&&e.jsx(P,{children:e.jsx(L.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...E}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(m.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:z},...E,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(rs,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})]})}const ms=f(()=>x(()=>import("./irzc55y97ndrcbsm.js"),__vite__mapDeps([0,1,2,3,4,5]))),fs=f(()=>x(()=>import("./lbq2awutv983x6w1.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33])).then(s=>s.ImageEditor));function xs({clientThreadId:s}){const a=Ee();n.useEffect(()=>{k.close()},[s]);let i;return a?.type===D.ADAVisualization?i=e.jsx(ms,{clientThreadId:s,visualization:a.visualization}):a?.type===D.Image&&(i=e.jsx(fs,{clientThreadId:s,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),e.jsx(hs,{clientThreadId:s,isOpen:a!=null,onClose:k.close,children:i})}function gs(){const{clientThreadId:s,resetThread:a}=_();return os({resetThreadAction:a,clientThreadId:s}),null}const ps=f(()=>x(()=>import("./keshfl7thq1dh5vg.js"),__vite__mapDeps([34,2,4,1,3,5,35,36,28,37,38,39,40,41,42,43,44,11,12,45,46,16,47,48,49,29,27,30,15,50,51,52,53,54,55])).then(s=>s.CanvasFocusedViewManager)),js=64;function vs({hideThreadHeader:s=!1,hideSidebar:a=!1}){const{focusedObject:i,clientThreadId:r}=_(),t=h("caterpillar"),l=n.useRef(null),g=se(w=>w.height),o=Se(),c=h("searchSources"),S=h("summarizer"),y=h("retrievalResults"),T=h("product"),p=ae(),[j,v]=n.useState(!1),b=!o&&!!i;let u=g??0;j&&(u+=js);const C=ye();return e.jsx(ds,{className:te(I.application,"keyboard-open:[--keyboard-height-multiplier:1]",{[I.withCanvasFocusedView]:!!o,[I.withEmbeddedFocusedView]:b}),banner:e.jsxs(re,{children:[e.jsx(Te,{}),e.jsx(Ie,{setIsMobileAppUpsellBannerVisible:v})]}),sidebar:!a&&e.jsx(ls,{}),thread:e.jsx(Y,{ref:l,hideHeader:s},r),details:e.jsx(ps,{clientThreadId:r}),threadExtendedInfo:p&&e.jsxs(e.Fragment,{children:[t&&e.jsx(ns,{taskId:t.caterpillarId,initialTab:t.initialTab}),c&&e.jsx(ke,{clientThreadId:r}),y&&e.jsx(_e,{clientThreadId:r}),T&&!1,C&&S&&e.jsx(Ne,{clientThreadId:r})]}),debugger:e.jsx(Fe,{clientThreadId:r}),name:"application-root",style:{"--screen-height-offset":u>0?`${u}px`:""}})}function bs(){const{clientThreadId:s}=_();return e.jsx(Me,{conversationId:s})}function Cs({clientThreadId:s,urlThreadId:a}){return Ae({clientThreadId:s}),e.jsxs(e.Fragment,{children:[e.jsx(bs,{}),e.jsx(gs,{}),e.jsx(Pe,{clientThreadId:s,urlThreadId:a}),e.jsx(Oe,{}),e.jsx(vs,{})]})}var ws={};const Es=f(()=>x(()=>import("./ii8o6kgp7nvdcce2.js"),__vite__mapDeps([56,2,1,3,4,5,10,11,12,15,16,31,25,26,20,27,28,29,30,23,32]))),Ss=f(()=>x(()=>import("./kgo463uf51owuthd.js"),__vite__mapDeps([57,2,1,3,4,5,15,12,11,16])).then(s=>s.MadlibsModal));function Us(s){const{urlThreadId:a,clientThreadId:i,prefetchSearch:r}=s;Is();const t=ie(),l=R(),[g]=je(),[o,c]=n.useState(()=>{if(a!==void 0){const d=a;return oe(d)??d}return i!==void 0?i:O()});a!==void 0&&o!==a&&(V(o)===a||c(a));const S=Ve(R());n.useEffect(()=>{a===void 0&&V(o)!==void 0&&c(O())},[a,o,S]);const y=Re(Le.workspaceId),T=K(),{eligible:p,isLoading:j,markAsViewed:v}=De(),b=Ue(),{eligible:u,isLoading:C,markAsViewed:w}=ze(),N=He(),F=Be();n.useEffect(()=>{ne(!0).then(d=>{d.force_login&&F({authType:"login"}),Ge.initializeAndGatherData(d),de.initializeAndGatherData(d)})},[F]),n.useEffect(()=>{const d=g.get(Ke)==="true";t!==d&&le.setIsTemporaryChatEnabled(d)},[t,g]),n.useEffect(()=>{l.state?.focusObject&&k.setFocusedObject(l.state.focusObject)},[l.state?.focusObject]),n.useEffect(()=>{!j&&p&&(v(),b())},[p,j,v,b]),n.useEffect(()=>{!C&&u&&(w(),N())},[u,C,w,N]),ss(o);const J=T?Cs:ts,M=Q();return n.useEffect(()=>ce(me,{completionFinished:d=>{if(d.serverThreadId!=null&&!t){const A=ue(d.serverThreadId)?.mode;A?.kind===he.GizmoInteraction&&qe.handleGizmoInteracted(M,A.gizmo_id)}}}),[t,M]),e.jsx(fe.Provider,{value:null,children:e.jsx(Qe,{children:e.jsxs(We,{clientThreadId:o,children:[e.jsx(Xe,{clientThreadId:o},y),e.jsx(ys,{clientThreadId:o,setClientThreadId:c}),e.jsx(is,{}),e.jsx(Ye,{}),e.jsx(X,{clientThreadId:o,setClientThreadId:c,prefetchSearch:r,children:e.jsxs(U,{clientThreadId:o,children:[e.jsx(J,{urlThreadId:a,clientThreadId:o,setClientThreadId:c,prefetchSearch:r}),e.jsx(Ts,{})]})}),e.jsx(U,{clientThreadId:o,children:e.jsx(xs,{clientThreadId:o})}),e.jsx(Je,{clientThreadId:o}),e.jsx(Ze,{}),e.jsx(cs,{}),e.jsx($e,{}),null]})})})}function ys({clientThreadId:s,setClientThreadId:a}){const{isOpen:i,isLoading:r}=as();return!r&&i?e.jsx(Es,{clientThreadId:s,setClientThreadId:a}):null}function Ts(){const{isOpen:s}=es();return s?e.jsx(Ss,{}):null}function Is(){ve({queryKey:["pingEdge"],queryFn:()=>xe.pingEdge().then(()=>!0),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ws.GOKU_SERVICE);export{Us as C,z as F};
//# sourceMappingURL=mzjm79wsdf3xrvs9.js.map
