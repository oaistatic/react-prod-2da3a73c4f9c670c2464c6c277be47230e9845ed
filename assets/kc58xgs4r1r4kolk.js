import{g2 as M,d as k,P as v,aA as L,aB as A,bY as b,a as w,S as E,bt as P,h as S,f4 as _,E as F,cu as N}from"./hggowi1ggrzb09yc.js";import{r as c,d as B,j as e,M as x,x as O,e as U,h as W,c as D,i as G}from"./izh0i1dfnf8ev7x1.js";import{T as R,m as z,L as H}from"./ko67dkks0za9ibqd.js";import{c as K}from"./exzl0m5vamd4uvma.js";import{O as C,bl as Y,i as V,d9 as X,j as $,k as q,bA as J,l as Q}from"./fc2hzad6rtrm7s5f.js";import"./isjdmfmhzv09v01t.js";function Z({auth0Provider:n,isNoAuthEnabled:o,nextUrl:a,isStorageComplianceEnabled:l}){const s=C(),[t,i]=c.useState(!1),r=B(),g=Y(p.signUp),h=V(),y=!s||!t,u=()=>{v.logLogInButtonClicked({provider:n,location:"Login page"}),t||setTimeout(()=>{i(!0)},500),h({authType:"login",callbackUrl:a})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[!s&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx(M,{})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:s?e.jsx("div",{children:R}):e.jsx(x,{...p.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:k("grid gap-x-3 gap-y-2",s?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(j,{blue:!0,loading:t,testid:"login-button",onClick:u,children:e.jsx(x,{...p.logIn})}),s&&t&&e.jsx(j,{ghost:!0,testid:"login-tryagain-button",onClick:u,children:e.jsx(x,{...p.logInTryAgain})}),y&&e.jsx(j,{blue:!0,testid:"signup-button",onClick:()=>{v.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),L.setCookie(A.SignupRedirectUrl,a,{maxAge:60*60*3}),h({authType:"signup",callbackUrl:a})},children:e.jsx(x,{...g})})]})})}),o?e.jsx(b,{color:"ghost",className:"mt-2 sm:mt-5",onClick:f=>{f.preventDefault(),v.logEvent(w.authTryItFirstLinkClicked),E.logEvent("chatgpt_auth_try_it_first_link_clicked"),r("/")},children:e.jsx(x,{...p.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center",children:[e.jsx(P,{}),e.jsx(K,{isStorageComplianceEnabled:l})]})]})})}function j({icon:n,children:o,className:a,onClick:l,testid:s,blue:t=!1,ghost:i=!1,loading:r=!1}){return e.jsxs(b,{color:t?"blue":i?"ghost":"primary",loading:r,size:"large","data-testid":s,onClick:l,className:a,children:[n?e.jsx("div",{className:k("h-5 w-5 justify-self-start",{}),style:{backgroundImage:n}}):null,e.jsx("span",{children:o})]})}const p=S({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function ee({auth0Provider:n,cfConnectingIp:o,isStorageComplianceEnabled:a,isNoAuthEnabled:l}){const{hash:s}=U(),[t]=W(),i=t.get("next"),r=(i?.startsWith("/")?i:"/")+s,g=D(),h=F(),y=c.useRef(!1),u=t.get("sso"),f=u?t.get("connection"):void 0,I=X()(),m=$()??(q(t,!0,I)||n);return c.useEffect(()=>{sessionStorage.setItem(J,m.toString())},[m]),c.useEffect(()=>{if(u){const d=L.getCookie(A.DeviceId)?.toString();G.signIn(m,{callbackUrl:r},{...d?{device_id:d}:{},...f?{connection:f}:{},...Q(d)})}},[r,u,f,m]),c.useEffect(()=>{v.logEvent(w.loggedOutOpenedAuthLogin,{cfConnectingIp:o})},[o]),c.useEffect(()=>{window.location.hash==="#pricing"&&L.setCookie(A.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),c.useEffect(()=>{if(y.current)return;y.current=!0;const d=t.get("inv_ws_name"),T=t.get("inv_email");d&&T&&h.success(g.formatMessage(z.invitedToastMessage,{workspace_name:d,email:T}),{hasCloseButton:!0,duration:600})},[t,g,h]),u?null:e.jsx(te,{auth0Provider:m,nextUrl:r,isStorageComplianceEnabled:a,isNoAuthEnabled:l})}const te=({auth0Provider:n,nextUrl:o,isStorageComplianceEnabled:a,isNoAuthEnabled:l})=>e.jsxs(e.Fragment,{children:[e.jsx(se,{auth0Provider:n,nextUrl:o,isStorageComplianceEnabled:a,isNoAuthEnabled:l}),!1]});function se({auth0Provider:n,isNoAuthEnabled:o,nextUrl:a,isStorageComplianceEnabled:l}){const s=C(),t=N(),i=c.useRef(null),r=!1;return c.useEffect(()=>{if(s||r)return;i.current==null&&(i.current=document.body.style.backgroundColor);const g=t?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=g,()=>{i.current!=null&&(document.body.style.backgroundColor=i.current)}},[t,s,r]),e.jsxs("div",{className:k("flex min-h-dvh w-screen flex-col md:grid",s?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!s&&e.jsx(H,{}),e.jsx(Z,{auth0Provider:n,isNoAuthEnabled:o,nextUrl:a,isStorageComplianceEnabled:l})]})}const ge=_(function(){const o=O();return e.jsx(ee,{...o})});export{ge as default};
//# sourceMappingURL=kc58xgs4r1r4kolk.js.map
