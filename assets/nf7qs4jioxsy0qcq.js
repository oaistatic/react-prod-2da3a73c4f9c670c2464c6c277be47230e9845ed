const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/helf9w9kh6rlvlxf.js","assets/izh0i1dfnf8ev7x1.js","assets/gpswsb3fgvbsg63g.js","assets/fc2hzad6rtrm7s5f.js","assets/hggowi1ggrzb09yc.js","assets/root-ko7rpr3h.css","assets/conversation-small-lgvqkxxm.css","assets/in3ze5ugryldzaj2.js","assets/8nxoaz0vb9p890un.js","assets/lb1py1igp6jzrtce.js","assets/ab6tyx2xygyb56l3.js","assets/ntdjjw6s1dl31tgb.js","assets/c0dr65ykcqmn5jn4.js","assets/jr1b41w4nuv00isi.js","assets/j7xrr4x8o3ssozmz.js","assets/h28ootcilxet47c8.js","assets/bluopupp3hty4d7q.js","assets/ca7lq2gyndiywe6g.js","assets/c9avu4yfkjav9bdb.js","assets/iuor4bcxoiridr5j.js","assets/j492ff3c1rtrw6ax.js","assets/ddzilicy6qtleo90.js","assets/ozluxx1s2jsn9j26.js","assets/c9ymhpumxb2611xi.js","assets/gq56vmyv6ftpm8ay.js","assets/ki2fnq5gqslif1ka.js","assets/hy4byupilmyf57n0.js","assets/nn6gjrst5lwozesx.js"])))=>i.map(i=>d[i]);
import{j as e,r as u}from"./izh0i1dfnf8ev7x1.js";import{ht as G,hu as q,hv as $,cB as W,hw as Q,hx as J,hy as K,hz as E,hA as X,hB as Y,hC as Z,hD as ee,hE as se,a3 as L,hF as ae,hG as k,hH as re,bm as I,hI as te,V as oe,hJ as ne,P as ie,fn as ce,a1 as de,hK as le,hL as he,cV as me,cW as ue,cX as pe,cY as Ce}from"./fc2hzad6rtrm7s5f.js";import{S as xe,u as A,E as Te,C as R,b as ve,T as ge,c as je,F as Se}from"./ntdjjw6s1dl31tgb.js";import{bv as w,bw as H,V as B,s as O,fP as fe,bu as U,e_ as t,d as m,O as ye,el as be,au as Ne,gv as Ee,fU as Ie}from"./hggowi1ggrzb09yc.js";import{P as we}from"./8nxoaz0vb9p890un.js";import{d as M,u as He}from"./in3ze5ugryldzaj2.js";import{C as Me}from"./modzmagtrlhmunl0.js";import{C as Fe}from"./myyiiqb6up4h3fac.js";function Pe({clientThreadId:s,currentModelId:n,isModelLoaded:c,onRequestCompletion:d,chatgptHomepageDisclaimer:a}){return e.jsx(xe,{clientThreadId:s,currentModelId:n,isModelLoaded:c,onRequestCompletion:d,chatgptHomepageDisclaimer:a})}const De=w(()=>H(()=>import("./helf9w9kh6rlvlxf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function _e({disableEmptyState:s,fullWidth:n,renderEmptyState:c}){const{clientThreadId:a,currentModelId:l,isEmbeddedInFocusedView:h,onChangeRating:o,onRequestCompletion:i,isModelLoaded:v,prefetchSearch:f}=u.useContext(M),[y,p,x]=B(a,r=>[r?.isLoading,O.getConversationTurns(r).length,r?.scrollToMessageId]),g={clientThreadId:a,currentModelId:l,onChangeRating:o,onRequestCompletion:i,showAvatar:!1},b=G({clientThreadId:a,handleRequestCompletion:i,prefetchSearchPromise:f}),j=y||b||s,C=fe(),{initialConversationTurns:T,continuedConversationTurns:S}=q(p,C),{canUseNewHomepage:F,showEmptyState:V}=A(a),{setTargetedContent:P}=$(),z=W(l),D=Q(a);J(p,a),u.useEffect(()=>{h||P(void 0)},[a,P,h]);const _=K(a);if(V){if(c!=null)return c();if(F&&!j){const r=e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(E,{clientThreadId:a})});return e.jsx(Pe,{clientThreadId:a,currentModelId:l,isModelLoaded:v,onRequestCompletion:i,chatgptHomepageDisclaimer:r})}else if(!F&&!j)return e.jsx(Te,{clientThreadId:a,currentModelId:l,isModelLoaded:v,onRequestCompletion:i,showChatgptHomepage:!z,chatgptHomepageDisclaimer:e.jsx(E,{clientThreadId:a})})}return e.jsxs(e.Fragment,{children:[C&&e.jsx(X,{}),C&&S.length===0&&e.jsx(Y,{}),e.jsx(U,{children:e.jsxs(u.Suspense,{fallback:null,children:[e.jsx(Z,{}),T.length>0&&e.jsx("ol",{className:t.conversationTurnList,onCopy:D,children:T.map(({turnIndex:r,isFinalTurn:N})=>e.jsx("li",{className:m(t.conversationTurnWrapper,n&&"w-full"),children:u.createElement(R,{...g,key:`${a}-${r}`,turnIndex:r,isFinalTurn:N,scrollToMessageId:x,dateHeaderType:_(r)})},r))}),C&&e.jsx(ee,{}),e.jsx("ol",{className:t.conversationTurnList,onCopy:D,children:S.map(({turnIndex:r,isFinalTurn:N})=>e.jsx("li",{className:m(t.conversationTurnWrapper,n&&"w-full"),children:u.createElement(R,{...g,key:`${a}-${r}`,turnIndex:r,isFinalTurn:N,scrollToMessageId:x,dateHeaderType:_(r)})},r))})]})}),e.jsx(De,{}),p>0&&e.jsx(se,{})]})}function Re({renderEmptyState:s}){return e.jsx(_e,{renderEmptyState:s})}const Le=w(()=>H(()=>import("./ntdjjw6s1dl31tgb.js").then(s=>s.d),__vite__mapDeps([11,4,1,5,9,3,6,8,12,13,14,7,10,15,16,17,18])).then(s=>s.ChatScreenComposerAlerts));function ke(){const{clientThreadId:s,currentModelId:n,onRequestCompletion:c}=u.useContext(M),d=L(s),[a,l]=B(s,i=>[i&&i.conversationTurns.length>1,O.hasUserMessage(i)]),h=ye(s)&&!a&&ae(d),{setComposerFooterElement:o}=u.useContext(k);return e.jsx("div",{className:t.footer,children:e.jsxs(re,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent",position:"relative"},children:[e.jsxs(I,{type:"secondary",className:"absolute bottom-[var(--composer-bar-height)] w-full",children:[a&&e.jsx(te,{className:t.scrollButton}),e.jsx(Le,{})]}),e.jsxs(I,{type:"primary",ref:o,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(ve,{clientThreadId:s,currentModelId:n,isNewThread:h,noWrap:!0,onRequestCompletion:c,showPromptStarters:h||!l}),e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(E,{clientThreadId:s})})]})]})})}const Ae=w(()=>H(()=>import("./iuor4bcxoiridr5j.js"),__vite__mapDeps([19,1,3,4,5,6,20,21,8,22,23,24,25,26,14,13,27,11,9,12,7,10,15,16,17,18])).then(s=>s.ConversationHeaderMenuItems));function Be(){const{clientThreadId:s,isLoggedInUser:n,onNewThread:c}=u.useContext(M),d=be(s),a=oe(d),l=ne(d),{useStore:h}=ie(),o=h(i=>i.isSidebarOpen);return e.jsxs(I,{leading:!0,type:"primary",className:t.header,name:"thread-header",children:[e.jsxs("div",{className:t.headerLeading,children:[n&&e.jsx(ce,{className:m(o&&"invisible")}),!a&&(!n||!o)&&e.jsx(Me,{onNewThread:c,className:m(n&&"hidden @lg/thread:inline-flex",o&&"invisible"),location:"thread"}),l?e.jsx("div",{className:m(t.threadDropdown),children:e.jsx(Ae,{clientThreadId:s})}):e.jsx("div",{className:m(t.threadDropdown),children:e.jsx(ge,{clientThreadId:s})})]}),e.jsx("div",{className:t.headerTrailing,children:e.jsx(U,{children:e.jsx(je,{clientThreadId:s})})})]})}function Qe({hideHeader:s=!1,hideFooter:n=!1,hideTools:c=!1,embedded:d=!1,renderEmptyState:a,ref:l}){const{data:h}=Ne(),{clientThreadId:o,currentModelId:i,isInstalledApp:v,onRequestCompletion:f,routeType:y}=He(),{canUseNewHomepage:p,showEmptyState:x}=A(o),g=de(h?.models,i),[b,j]=le({name:"composer-bar",track:"height"}),C=L(o),T=he(o,C),S=n||x&&p;return Ee(o),e.jsx(Ie.Provider,{value:f,children:e.jsx(me,{children:e.jsxs(we,{clientThreadId:o,children:[e.jsx(ue,{children:T!=null&&e.jsx("title",{children:T})}),e.jsx(Se,{clientThreadId:o,className:m(d&&"h-full","flex-1"),currentModelConfig:g,children:e.jsxs(k.Provider,{value:{setComposerFooterElement:j},children:[e.jsx(pe,{anchor:"vertical",className:m(t.screen,x&&p&&t.screenEmptyState,v&&t.screenInstalledApp,d&&t.screenEmbedded),contentClassName:m(y==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!s&&e.jsx(Be,{}),style:b,ref:l,trackLeading:!0,trackTrailing:!0,trailing:!S&&e.jsx(ke,{}),children:e.jsx(Re,{renderEmptyState:a})}),!c&&e.jsxs(e.Fragment,{children:[e.jsx(Fe,{}),e.jsx(Ce,{})]})]})})]})})})}export{Qe as C,Be as a,Re as b};
//# sourceMappingURL=nf7qs4jioxsy0qcq.js.map
