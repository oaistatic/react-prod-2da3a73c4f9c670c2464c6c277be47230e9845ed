import{cl as u,h as p,eo as c,ax as m,dy as b,S as f,dz as h,V as w,s as M}from"./hggowi1ggrzb09yc.js";import{q as r,r as i,v as y,U as k}from"./fc2hzad6rtrm7s5f.js";import{r as d,c as x}from"./izh0i1dfnf8ev7x1.js";import{u as C}from"./lb1py1igp6jzrtce.js";function N(){const{eligible:e,isLoading:a,markAsViewed:o}=r(i.NewOnboardingFlow),[t,n]=d.useState(!0),s=u();return{isOpen:e&&t&&!s,isLoading:a,setIsOpen:n,markAsViewed:o}}const S=p({hi:{id:"new_user_onboarding.hi",defaultMessage:"Hi"},tryUploadingAFile:{defaultMessage:"Try uploading a file",id:"chatgpt.new-onboarding.try-uploading-a-file"},uploadFileExample:{defaultMessage:"ChatGPT can summarize and analyze your files or images.",id:"chatgpt.new-onboarding.upload-file-exp"},school:{defaultMessage:"School",id:"chatgpt.new-onboarding.school"},schoolPrompt:{defaultMessage:"Iâ€™m trying to learn and do better in school.",id:"chatgpt.new-onboarding.school-prompt"},work:{defaultMessage:"Work",id:"chatgpt.new-onboarding.work"},workPrompt:{defaultMessage:"I'm here to learn and grow in my work.",id:"chatgpt.new-onboarding.work-prompt"},personalTasks:{defaultMessage:"Personal tasks",id:"chatgpt.new-onboarding.personal-tasks"},personalTasksPrompt:{defaultMessage:"I'm here for my personal tasks",id:"chatgpt.new-onboarding.personal-tasks-prompt"},funAndEntertainment:{defaultMessage:"Fun and entertainment",id:"chatgpt.new-onboarding.fun-and-entertainment"},funAndEntertainmentPrompt:{defaultMessage:"I'm here to explore fun ideas and relax.",id:"chatgpt.new-onboarding.fun-and-entertainment-prompt"},other:{defaultMessage:"Other",id:"chatgpt.new-onboarding.other"},justCurious:{defaultMessage:"Just curious",id:"chatgpt.new-onboarding.just-curious"},justCuriousPrompt:{defaultMessage:"I'm just curious, exploring what you can do.",id:"chatgpt.new-onboarding.just-curious-prompt"},tryAnExample:{defaultMessage:"Try an example below or send any message in the message box below.",id:"chatgpt.new-onboarding.try-an-example"}});function _(){const{eligible:e,isLoading:a,markAsViewed:o}=r(i.NewOnboardingConvo);return{isEligible:e&&!a,markAsViewed:o}}function P(e){const a=y(l=>l.onboardingConvoState||void 0),{isEligible:o,markAsViewed:t}=_(),n=O({clientThreadId:e}),{layer:s}=m("109457"),g=x();d.useEffect(()=>{o&&!a&&s.get("onboarding_style","")==="CONVO"&&(k.setOnboardingConvoState({onboardingConvoClientThreadId:e}),t(),n({stepPrompt:g.formatMessage(S.hi),messageMetadata:{is_visually_hidden_from_conversation:!0},authorMetadata:{real_author:b.Onboarding}}),f.logEvent("chatgpt_convo_onboarding_started"))},[o,t,n,a,g,e,s])}const O=({clientThreadId:e})=>{const a=C({clientThreadId:e});return d.useCallback(({stepPrompt:o,messageMetadata:t,authorMetadata:n})=>{a({promptMessage:c(o,t,n)})},[a])};function U(e){const a=w(e,M.getLastUserMessageOnboardingMetadata),{eligible:o,isLoading:t,markAsViewed:n}=r(i.hasSeenFilePickerNuxTooltip);return{isEligible:a?.triggered_tools?.includes("file_upload")&&o&&!t,markAsViewed:n}}function I(){const{layer:e}=h("109457");return e.get("onboarding_show_followups",!1)}export{O as a,P as b,U as c,I as d,S as m,N as u};
//# sourceMappingURL=c0dr65ykcqmn5jn4.js.map
