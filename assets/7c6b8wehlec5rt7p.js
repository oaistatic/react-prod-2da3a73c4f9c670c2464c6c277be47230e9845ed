import{c as l,j as t}from"./izh0i1dfnf8ev7x1.js";import{v,E as _,ax as b,P as r,a as n,S as i,bY as E,d as M,cc as w}from"./hggowi1ggrzb09yc.js";import{cK as x,cL as S,cM as W}from"./fc2hzad6rtrm7s5f.js";import{u as B}from"./cnvvufxsonlutn97.js";import{u as y}from"./eru74wmmjzsaepsv.js";import"./dc5a51o21uca636i.js";const H=({size:s="medium",disabled:e,onExit:o})=>{const a=l(),{isUnauthenticated:p}=v(),u=y(c=>c.status),{requestMicrophonePermissions:m}=B(),h=a.formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),d=_(),{layer:g}=b("1170120107");if(!g.get("is_whisper_enabled",!1)||p)return null;u==="error"&&(r.logEvent(n.composerWhisperButtonError),i.logEvent("chatgpt_composer_whisper_button_error"));const f=async()=>{if(r.logEvent(n.composerWhisperButtonClickedStart),i.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await m())return d.danger(h);o()};return t.jsx(j,{children:t.jsx(E,{"aria-label":a.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:s,type:"button",onClick:f,disabled:e,style:{viewTransitionName:"--vt-composer-whisper-button"},className:M(S,e?"opacity-30":W),children:t.jsx(x,{"aria-label":a.formatMessage({id:"cBnp8z",defaultMessage:"Mic icon"}),className:"h-[18px] w-[18px]",fontSize:"inherit"})})})};function j({children:s}){const e=l();return t.jsx(w,{sideOffset:4,label:e.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"top",onOpenChange:o=>{o&&(r.logEvent(n.composerWhisperButtonHovered),i.logEvent("chatgpt_composer_whisper_button_hovered"))},children:s})}export{H as WhisperIconButton};
//# sourceMappingURL=7c6b8wehlec5rt7p.js.map
